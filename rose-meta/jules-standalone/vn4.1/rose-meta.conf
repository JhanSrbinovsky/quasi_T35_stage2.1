[command]
ns = Execution environment
sort-key = 00

[command=default]
title = Method to use to invoke JULES
description = If serial build was used, this cannot be parallel
values = rose-jules-run,jules.exe,rose mpi-launch jules.exe
value-titles = auto-detect,serial,parallel
sort-key = 1
trigger = env=NPROC: this != 'jules.exe';
widget[rose-config-edit] = rose.config_editor.valuewidget.combobox.ComboBoxValueWidget

[env]
ns = Execution environment
description = 

[env=NPROC]
compulsory = true
description = Number of processors to use
            = This is ignored if a serial build was used
type = integer
range = 1:
sort-key = 2


#######################################################################################################
#######################################################################################################


[namelist]
title = Namelist configuration


[namelist:logging]
compulsory = true
ns = namelist/Logging
url = http://jules-lsm.github.io/vn4.1/namelists/logging.nml.html
sort-key = 01

[namelist:logging=log_dir]
description = Directory that log files will be created in
type = character
url = http://jules-lsm.github.io/vn4.1/namelists/logging.nml.html#LOGGING::log_dir
sort-key = 1

[namelist:logging=log_print_level]
description = Determines which levels of log messages are written
type = integer
range = 0:31
url = http://jules-lsm.github.io/vn4.1/namelists/logging.nml.html#LOGGING::log_print_level
sort-key = 2

[namelist:logging=log_stop_level]
description = Determines which levels of log messages (other than FATAL) cause the program to terminate
type = integer
range = 0:15
url = http://jules-lsm.github.io/vn4.1/namelists/logging.nml.html#LOGGING::log_stop_level
sort-key = 3


#######################################################################################################
#######################################################################################################


[namelist:jules_surface_types]
compulsory = true
ns = namelist/Surface types
url = http://jules-lsm.github.io/vn4.1/namelists/jules_surface_types.nml.html
sort-key = 02

[namelist:jules_surface_types=npft]
compulsory = true
description = Number of plant functional types to be modelled
url = http://jules-lsm.github.io/vn4.1/namelists/jules_surface_types.nml.html#JULES_SURFACE_TYPES::npft
type = integer
range = 0:
sort-key = a

[namelist:jules_surface_types=ncpft]
description = Number of crop plant functional types to be modelled
url = http://jules-lsm.github.io/vn4.1/namelists/jules_surface_types.nml.html#JULES_SURFACE_TYPES::ncpft
type = integer
range = 0:
sort-key = b
fail-if = this > namelist:jules_surface_types=npft; # Number of crop PFTs must be less than total number of PFTs
trigger = namelist:jules_vegetation=l_prescsow: this > 0;
        = namelist:jules_crop_props: this > 0;
        = namelist:jules_cropparm: this > 0;

[namelist:jules_surface_types=nnvg]
compulsory = true
description = Number of non-plant surface types to be modelled
url = http://jules-lsm.github.io/vn4.1/namelists/jules_surface_types.nml.html#JULES_SURFACE_TYPES::nnvg
range = 1:
sort-key = c
type = integer

[namelist:jules_surface_types=urban]
description = Pseudo level of urban surface type
url = http://jules-lsm.github.io/vn4.1/namelists/jules_surface_types.nml.html#JULES_SURFACE_TYPES::urban
range = 1:
fail-if = this > (namelist:jules_surface_types=npft + namelist:jules_surface_types=nnvg); # Pseudo level must be less than or equal to npft+nnvg
          this <= namelist:jules_surface_types=npft; # PFTs must be grouped together first with non-vegetated tiles following
sort-key = i
type = integer

[namelist:jules_surface_types=lake]
description = Pseudo level of lake surface type
url = http://jules-lsm.github.io/vn4.1/namelists/jules_surface_types.nml.html#JULES_SURFACE_TYPES::lake
range = 1:
fail-if = this > (namelist:jules_surface_types=npft + namelist:jules_surface_types=nnvg); # Pseudo level must be less than or equal to npft+nnvg
          this <= namelist:jules_surface_types=npft; # PFTs must be grouped together first with non-vegetated tiles following
sort-key = j
type = integer

[namelist:jules_surface_types=soil]
compulsory = true
description = Pseudo level of soil surface type
url = http://jules-lsm.github.io/vn4.1/namelists/jules_surface_types.nml.html#JULES_SURFACE_TYPES::soil
range = 1:
fail-if = this > (namelist:jules_surface_types=npft + namelist:jules_surface_types=nnvg); # Pseudo level must be less than or equal to npft+nnvg
          this <= namelist:jules_surface_types=npft; # PFTs must be grouped together first with non-vegetated tiles following
sort-key = k
type = integer

[namelist:jules_surface_types=ice]
description = Pseudo level of ice surface type
url = http://jules-lsm.github.io/vn4.1/namelists/jules_surface_types.nml.html#JULES_SURFACE_TYPES::ice
range = 1:
fail-if = this > (namelist:jules_surface_types=npft + namelist:jules_surface_types=nnvg); # Pseudo level must be less than or equal to npft+nnvg
          this <= namelist:jules_surface_types=npft; # PFTs must be grouped together first with non-vegetated tiles following
sort-key = l
type = integer

[namelist:jules_surface_types=urban_canyon]
description = Pseudo level of urban canyon surface type
url = http://jules-lsm.github.io/vn4.1/namelists/jules_surface_types.nml.html#JULES_SURFACE_TYPES::urban_canyon
range = 1:
fail-if = this > namelist:jules_surface_types=npft + namelist:jules_surface_types=nnvg; # Pseudo level must be less than or equal to npft+nnvg
          this <= namelist:jules_surface_types=npft; # PFTs must be grouped together first with non-vegetated tiles following
sort-key = m
type = integer

[namelist:jules_surface_types=urban_roof]
description = Pseudo level of urban roof surface type
url = http://jules-lsm.github.io/vn4.1/namelists/jules_surface_types.nml.html#JULES_SURFACE_TYPES::urban_roof
range = 1:
fail-if = this > namelist:jules_surface_types=npft + namelist:jules_surface_types=nnvg; # Pseudo level must be less than or equal to npft+nnvg
          this <= namelist:jules_surface_types=npft; # PFTs must be grouped together first with non-vegetated tiles following
sort-key = n
type = integer
trigger = namelist:urban_switches: this > 0;
        = namelist:urban2t_param: this > 0;
        = namelist:urban_properties: this > 0;


#######################################################################################################
#######################################################################################################


# Dummy page to force sort order for Science settings
[namespace:science]
ns = namelist/Science settings
sort-key = 03


#######################################################################################################
#######################################################################################################


[namelist:jules_surface]
compulsory = true 
ns = namelist/Science settings/Surface options
url = http://jules-lsm.github.io/vn4.1/namelists/jules_surface.nml.html
sort-key = 03

[namelist:jules_surface=l_aggregate]
compulsory = true
description = Use aggregate surface scheme
url = http://jules-lsm.github.io/vn4.1/namelists/jules_surface.nml.html#JULES_SURFACE::l_aggregate
trigger = namelist:jules_surface=i_aggregate_opt: .true.;
type = logical
sort-key = a

[namelist:jules_surface=i_aggregate_opt]
compulsory = true
description = Method of aggregating tiled properties
url = http://jules-lsm.github.io/vn4.1/namelists/jules_surface.nml.html#JULES_SURFACE::i_aggregate_opt
value-titles = Original option,Separate aggregation
values = 0,1
sort-key = b

[namelist:jules_surface=l_epot_corr]
compulsory = true
description = Use correction to calculation of potential evaporation
url = http://jules-lsm.github.io/vn4.1/namelists/jules_surface.nml.html#JULES_SURFACE::l_epot_corr
type = logical
sort-key = c

[namelist:jules_surface=l_point_data]
compulsory = true
description = Using point rainfall data
url = http://jules-lsm.github.io/vn4.1/namelists/jules_surface.nml.html#JULES_SURFACE::l_point_data
type = logical
sort-key = d

[namelist:jules_surface=iscrntdiag]
compulsory = true
description = Method of diagnosing the screen temperature
url = http://jules-lsm.github.io/vn4.1/namelists/jules_surface.nml.html#JULES_SURFACE::iscrntdiag
values = 0,1
sort-key = e

[namelist:jules_surface=l_land_ice_imp]
compulsory = true
description = Use implicit numerics to update land ice temperatures
url = http://jules-lsm.github.io/vn4.1/namelists/jules_surface.nml.html#JULES_SURFACE::l_land_ice_imp
type = logical
sort-key = f

[namelist:jules_surface=l_anthrop_heat_src]
compulsory = true
description = Use anthropogenic heat source on urban tile
url = http://jules-lsm.github.io/vn4.1/namelists/jules_surface.nml.html#JULES_SURFACE::l_anthrop_heat_src
type = logical
trigger = namelist:urban_switches=l_urban_empirical: .true.;
        = namelist:urban2t_param=anthrop_heat_scale: .true.;
sort-key = g

[namelist:jules_surface=hleaf]
ns = namelist/Science settings/Surface options/Parameters
description = Specific heat capacity of leaves (J / K / kg Carbon)
url = http://jules-lsm.github.io/vn4.1/namelists/jules_surface.nml.html#JULES_SURFACE::hleaf
type = real
sort-key = a

[namelist:jules_surface=hwood]
ns = namelist/Science settings/Surface options/Parameters
description = Specific heat capacity of wood (J / K / kg Carbon)
url = http://jules-lsm.github.io/vn4.1/namelists/jules_surface.nml.html#JULES_SURFACE::hwood
type = real
sort-key = b

[namelist:jules_surface=beta1]
ns = namelist/Science settings/Surface options/Parameters
description = Coupling coefficient for co-limitation
url = http://jules-lsm.github.io/vn4.1/namelists/jules_surface.nml.html#JULES_SURFACE::beta1
type = real
sort-key = c

[namelist:jules_surface=beta2]
ns = namelist/Science settings/Surface options/Parameters
description = Coupling coefficient for co-limitation
url = http://jules-lsm.github.io/vn4.1/namelists/jules_surface.nml.html#JULES_SURFACE::beta2
type = real
sort-key = d

[namelist:jules_surface=fwe_c3]
ns = namelist/Science settings/Surface options/Parameters
description = Factor in expressions for limitation of photosynthesis
            = by transport of products for C3 grass
url = http://jules-lsm.github.io/vn4.1/namelists/jules_surface.nml.html#JULES_SURFACE::fwe_c3
type = real
sort-key = e

[namelist:jules_surface=fwe_c4]
ns = namelist/Science settings/Surface options/Parameters
description = Factor in expressions for limitation of photosynthesis
            = by transport of products for C4 grass
url = http://jules-lsm.github.io/vn4.1/namelists/jules_surface.nml.html#JULES_SURFACE::fwe_c4
type = real
sort-key = f

[namelist:jules_surface=q10_soil]
ns = namelist/Science settings/Surface options/Parameters
description = Q10 factor for soil respiration
url = http://jules-lsm.github.io/vn4.1/namelists/jules_surface.nml.html#JULES_SURFACE::q10_soil
type = real
sort-key = h

[namelist:jules_surface=kaps]
ns = namelist/Science settings/Surface options/Parameters
description = Specific soil respiration rate at 25 degC and optimum soil moisture (/s)
url = http://jules-lsm.github.io/vn4.1/namelists/jules_surface.nml.html#JULES_SURFACE::kaps
type = real
sort-key = i

[namelist:jules_surface=kaps_roth]
ns = namelist/Science settings/Surface options/Parameters
description = Specific soil respiration rates for the four pools of RothC
url = http://jules-lsm.github.io/vn4.1/namelists/jules_surface.nml.html#JULES_SURFACE::kaps_roth
type = real
length = 4
sort-key = j


#######################################################################################################
#######################################################################################################


[namelist:jules_radiation]
compulsory = true 
ns = namelist/Science settings/Radiation options
url = http://jules-lsm.github.io/vn4.1/namelists/jules_radiation.nml.html
sort-key = 04 

[namelist:jules_radiation=l_cosz]
compulsory = true
description = Calculate solar zenith angle
url = http://jules-lsm.github.io/vn4.1/namelists/jules_radiation.nml.html#JULES_RADIATION::l_cosz
type = logical
sort-key = a

[namelist:jules_radiation=l_spec_albedo]
compulsory = true
description = Include spectral land-surface albedos
url = http://jules-lsm.github.io/vn4.1/namelists/jules_radiation.nml.html#JULES_RADIATION::l_spec_albedo
trigger=namelist:jules_radiation=l_spec_alb_bs: .true.;
       =namelist:jules_radiation=l_snow_albedo: .true.;
type = logical
sort-key = b

[namelist:jules_radiation=l_spec_alb_bs]
compulsory = true
description = Use a single value for both the direct and diffuse beams
url = http://jules-lsm.github.io/vn4.1/namelists/jules_radiation.nml.html#JULES_RADIATION::l_spec_alb_bs
type = logical
sort-key = c

[namelist:jules_radiation=l_snow_albedo]
compulsory = true
description = Include prognostic snow albedos
url = http://jules-lsm.github.io/vn4.1/namelists/jules_radiation.nml.html#JULES_RADIATION::l_snow_albedo
type = logical
trigger = namelist:jules_snow=r0: .true.;
        = namelist:jules_snow=rmax: .true.;
        = namelist:jules_snow=snow_ggr: .true.;
        = namelist:jules_snow=amax: .true.;
        = namelist:jules_snow=dtland: .false.;
        = namelist:jules_snow=kland_numerator: .false.;
sort-key = d

[namelist:jules_radiation=l_albedo_obs]
compulsory = true
description = Scale albedos of land-surface tiles to agree with obs
url = http://jules-lsm.github.io/vn4.1/namelists/jules_radiation.nml.html#JULES_RADIATION::l_albedo_obs
type = logical
sort-key = e


#######################################################################################################
#######################################################################################################


[namelist:jules_hydrology]
compulsory = true 
ns = namelist/Science settings/Hydrology options
url = http://jules-lsm.github.io/vn4.1/namelists/jules_hydrology.nml.html
sort-key = 05

[namelist:jules_hydrology=l_top] 
compulsory = true 
description = Use TOPMODEL scheme
url = http://jules-lsm.github.io/vn4.1/namelists/jules_hydrology.nml.html#JULES_HYDROLOGY::l_top
type = logical 
trigger = namelist:jules_hydrology=zw_max: .true.; 
        = namelist:jules_hydrology=ti_max: .true.; 
        = namelist:jules_hydrology=ti_wetl: .true.;
        = namelist:jules_top: .true.;
fail-if = this == '.true.' and namelist:jules_hydrology=l_pdm == '.true.'; # Can't have TOPMODEL and PDM together
sort-key = a

[namelist:jules_hydrology=l_pdm] 
compulsory = true 
description = Use PDM scheme 
url = http://jules-lsm.github.io/vn4.1/namelists/jules_hydrology.nml.html#JULES_HYDROLOGY::l_pdm
type = logical 
trigger = namelist:jules_hydrology=b_pdm: .true.; 
        = namelist:jules_hydrology=dz_pdm: .true.;
sort-key = b

[namelist:jules_hydrology=b_pdm] 
type = real
description = Shape factor for the pdf
url = http://jules-lsm.github.io/vn4.1/namelists/jules_hydrology.nml.html#JULES_HYDROLOGY::b_pdm
sort-key = c

[namelist:jules_hydrology=dz_pdm] 
type = real 
description = Depth of soil considered by PDM (m) 
url = http://jules-lsm.github.io/vn4.1/namelists/jules_hydrology.nml.html#JULES_HYDROLOGY::dz_pdm
sort-key = d

[namelist:jules_hydrology=zw_max] 
type = real 
description = Maximum allowed depth to the water table (m) 
url = http://jules-lsm.github.io/vn4.1/namelists/jules_hydrology.nml.html#JULES_HYDROLOGY::zw_max
sort-key = e

[namelist:jules_hydrology=ti_max] 
type = real 
description = Maximum possible value of the topographic index 
url = http://jules-lsm.github.io/vn4.1/namelists/jules_hydrology.nml.html#JULES_HYDROLOGY::ti_max
sort-key = f

[namelist:jules_hydrology=ti_wetl] 
type = real 
description = Calibration parameter used in calculation of the wetland fraction 
url = http://jules-lsm.github.io/vn4.1/namelists/jules_hydrology.nml.html#JULES_HYDROLOGY::ti_wetl
sort-key = g


#######################################################################################################
#######################################################################################################


[namelist:jules_soil]
compulsory = true 
ns = namelist/Science settings/Soil options
url = http://jules-lsm.github.io/vn4.1/namelists/jules_soil.nml.html
sort-key = 06

[namelist:jules_soil=sm_levels]
compulsory = true
description = Number of soil layers
url = http://jules-lsm.github.io/vn4.1/namelists/jules_soil.nml.html#JULES_SOIL::sm_levels
type = integer
range = 1:
sort-key = a

[namelist:jules_soil=l_vg_soil]
compulsory = true
description = Choose soil hydraulic model
url = http://jules-lsm.github.io/vn4.1/namelists/jules_soil.nml.html#JULES_SOIL::l_vg_soil
value-titles = van Genuchten model,Brooks and Corey model
values = .true.,.false.
sort-key = b
widget[rose-config-edit] = rose.config_editor.valuewidget.combobox.ComboBoxValueWidget

[namelist:jules_soil=l_dpsids_dsdz]
compulsory = true
description = Calculate vertical gradient of soil suction with the assumption of linearity only for
            = fractional saturation (consistent with the calculation of hydraulic conductivity)
url = http://jules-lsm.github.io/vn4.1/namelists/jules_soil.nml.html#JULES_SOIL::l_dpsids_dsdz
type = logical
sort-key = c

[namelist:jules_soil=l_soil_sat_down]
compulsory = true
description = Direction of water in excess of saturation
url = http://jules-lsm.github.io/vn4.1/namelists/jules_soil.nml.html#JULES_SOIL::l_soil_sat_down
value-titles=Down,Up
values=.true.,.false.
sort-key = d
widget[rose-config-edit] = rose.config_editor.valuewidget.combobox.ComboBoxValueWidget

[namelist:jules_soil=soilhc_method]
compulsory = true
description = Choice of soil thermal conductivity model
url = http://jules-lsm.github.io/vn4.1/namelists/jules_soil.nml.html#JULES_SOIL::soilhc_method
value-titles = Cox et al (1999),Simplified Johansen (1975)
values = 1,2
sort-key = e
widget[rose-config-edit] = rose.config_editor.valuewidget.combobox.ComboBoxValueWidget

[namelist:jules_soil=cs_min]
description = Minimum allowed soil carbon (kg m-2)
url = http://jules-lsm.github.io/vn4.1/namelists/jules_soil.nml.html#JULES_SOIL::cs_min
type = real
sort-key = f

[namelist:jules_soil=zsmc]
description = Depth of layer over which soil moisture diagnostic is averaged (m)
url = http://jules-lsm.github.io/vn4.1/namelists/jules_soil.nml.html#JULES_SOIL::zsmc
type = real
sort-key = g

[namelist:jules_soil=zst]
description = Depth of layer over which soil temperature diagnostic is averaged (m)
url = http://jules-lsm.github.io/vn4.1/namelists/jules_soil.nml.html#JULES_SOIL::zst
type = real
sort-key = h

[namelist:jules_soil=confrac]
description = Fraction of the gridbox assumed to be covered by convective precipitation
url = http://jules-lsm.github.io/vn4.1/namelists/jules_soil.nml.html#JULES_SOIL::confrac
type = real
sort-key = i

[namelist:jules_soil=dzsoil_io]
compulsory = true
description = Soil layer depths (m), starting with the uppermost layer
type = real
length = :
fail-if = len(this) != namelist:jules_soil=sm_levels; # Must have a value for each soil level
sort-key = j


#######################################################################################################
#######################################################################################################


[namelist:jules_vegetation]
compulsory = true 
ns = namelist/Science settings/Vegetation options
url = http://jules-lsm.github.io/vn4.1/namelists/jules_vegetation.nml.html
sort-key = 07

[namelist:jules_vegetation=l_q10]
compulsory = true
description = Choose soil decomposition dependence on temperature
url = http://jules-lsm.github.io/vn4.1/namelists/jules_vegetation.nml.html#JULES_VEGETATION::l_q10
value-titles = Q10 temperature function,RothC temperature function
values = .true.,.false.
sort-key = a
widget[rose-config-edit] = rose.config_editor.valuewidget.combobox.ComboBoxValueWidget

[namelist:jules_vegetation=l_phenol]
compulsory = true
description = Include leaf phenology
url = http://jules-lsm.github.io/vn4.1/namelists/jules_vegetation.nml.html#JULES_VEGETATION::l_phenol
trigger = namelist:jules_vegetation=phenol_period: .true.;
type = logical
sort-key = b

[namelist:jules_vegetation=l_triffid]
compulsory = true
description = Use the TRIFFID dynamic vegetation model, except for competition
url = http://jules-lsm.github.io/vn4.1/namelists/jules_vegetation.nml.html#JULES_VEGETATION::l_triffid
trigger = namelist:jules_vegetation=l_trif_eq: .true.;
        = namelist:jules_vegetation=triffid_period: .true.;
        = namelist:jules_vegetation=l_veg_compete: .true.;
        = namelist:jules_agric=zero_agric: .true.;
type = logical
sort-key = c

[namelist:jules_vegetation=l_veg_compete]
compulsory = true
description = Use competing vegetation
url = http://jules-lsm.github.io/vn4.1/namelists/jules_vegetation.nml.html#JULES_VEGETATION::l_veg_compete
type = logical
sort-key = d

[namelist:jules_vegetation=l_trif_eq]
compulsory = true
description = Run TRIFFID in equilibrium mode
url = http://jules-lsm.github.io/vn4.1/namelists/jules_vegetation.nml.html#JULES_VEGETATION::l_trif_eq
type = logical
sort-key = e

[namelist:jules_vegetation=l_ht_compete]
compulsory = true
description = Run TRIFFID competition based on height
url = http://jules-lsm.github.io/vn4.1/namelists/jules_vegetation.nml.html#JULES_VEGETATION::l_ht_compete
type = logical
sort-key = e

[namelist:jules_vegetation=l_landuse]
compulsory = true
description = Include interactive landuse change
url = http://jules-lsm.github.io/vn4.1/namelists/jules_vegetation.nml.html#JULES_VEGETATION::l_landuse
type = logical
sort-key = e

[namelist:jules_vegetation=l_trait_phys]
compulsory = true
description = Parameterise PFTs based on traits
url = http://jules-lsm.github.io/vn4.1/namelists/jules_vegetation.nml.html#JULES_VEGETATION::l_trait_phys
type = logical
sort-key = e

[namelist:jules_vegetation=phenol_period]
compulsory = true
description = Update frequency for leaf phenology (days)
url = http://jules-lsm.github.io/vn4.1/namelists/jules_vegetation.nml.html#JULES_VEGETATION::phenol_period
range = 1:365
type = integer
sort-key = f

[namelist:jules_vegetation=triffid_period]
compulsory = true
description = Update frequency for TRIFFID (days)
url = http://jules-lsm.github.io/vn4.1/namelists/jules_vegetation.nml.html#JULES_VEGETATION::triffid_period
range = 1:10000
type = integer
sort-key = g

[namelist:jules_vegetation=l_bvoc_emis]
compulsory = true
description = Calculate BVOC emissions
url = http://jules-lsm.github.io/vn4.1/namelists/jules_vegetation.nml.html#JULES_VEGETATION::l_bvoc_emis
type = logical
sort-key = h

[namelist:jules_vegetation=l_o3_damage]
compulsory = true
description = Use ozone damage for vegetation
url = http://jules-lsm.github.io/vn4.1/namelists/jules_vegetation.nml.html#JULES_VEGETATION::l_o3_damage
type = logical
sort-key = i

[namelist:jules_vegetation=l_prescsow]
compulsory = true
description = Use prescribed sowing dates for crops
url = http://jules-lsm.github.io/vn4.1/namelists/jules_vegetation.nml.html#JULES_VEGETATION::l_prescsow
type = logical
sort-key = j

[namelist:jules_vegetation=l_irrig_dmd]
compulsory = true
description = Use irrigation demand model
url = http://jules-lsm.github.io/vn4.1/namelists/jules_vegetation.nml.html#JULES_VEGETATION::l_prescsow
type = logical
sort-key = k
trigger = namelist:jules_vegetation=irr_crop: .true.;
        = namelist:jules_irrig: .true.;

[namelist:jules_vegetation=irr_crop]
compulsory = true
description = Use prescribed sowing dates for crops
url = http://jules-lsm.github.io/vn4.1/namelists/jules_vegetation.nml.html#JULES_VEGETATION::l_prescsow
values = 1,2
sort-key = l

[namelist:jules_vegetation=can_model]
compulsory = true
description = Choice of canopy model for vegetation
url = http://jules-lsm.github.io/vn4.1/namelists/jules_vegetation.nml.html#JULES_VEGETATION::can_model
values = 1,2,3,4
value-titles = No distinct canopy,Radiative canopy with no heat capacity,Radiative canopy with heat capacity,As 3 but with snow beneath canopy
trigger = namelist:jules_snow=cansnowpft: 4;
        = namelist:jules_snow=snowinterceptfact: 4;
        = namelist:jules_snow=snowloadlai: 4;
        = namelist:jules_snow=snowunloadfact: 4;
warn-if = this == 3; # can_model = 3 is deprecated, with 4 preferred
sort-key = m
widget[rose-config-edit] = rose.config_editor.valuewidget.combobox.ComboBoxValueWidget

[namelist:jules_vegetation=can_rad_mod]
compulsory = true
description = Choice of treatment of canopy radiation
url = http://jules-lsm.github.io/vn4.1/namelists/jules_vegetation.nml.html#JULES_VEGETATION::can_rad_mod
values = 1,2,3,4,5
value-titles = Single canopy layer,Multi-layer radiation interception,As 2 with sunlit and shaded leaves,As 2 with varying leaf N,As 4 with sunlit and shaded leaves
sort-key = n
widget[rose-config-edit] = rose.config_editor.valuewidget.combobox.ComboBoxValueWidget

[namelist:jules_vegetation=ilayers]
description = Number of layers for canopy radiation model
url = http://jules-lsm.github.io/vn4.1/namelists/jules_vegetation.nml.html#JULES_VEGETATION::ilayers
range = 1:100
type = integer
sort-key = o

[namelist:jules_vegetation=frac_min]
description = Minimum fraction that a PFT is allowed to cover if TRIFFID is used
url = http://jules-lsm.github.io/vn4.1/namelists/jules_vegetation.nml.html#JULES_VEGETATION::frac_min
type = real
sort-key = p

[namelist:jules_vegetation=frac_seed]
description = Seed fraction for TRIFFID
url = http://jules-lsm.github.io/vn4.1/namelists/jules_vegetation.nml.html#JULES_VEGETATION::frac_seed
type = real
sort-key = q

[namelist:jules_vegetation=pow]
description = Power in sigmodial function used to get competition coefficients
url = http://jules-lsm.github.io/vn4.1/namelists/jules_vegetation.nml.html#JULES_VEGETATION::pow
type = real
sort-key = r


#######################################################################################################
#######################################################################################################


[namelist:jules_snow] 
compulsory = true 
ns = namelist/Science settings/Snow options
url = http://jules-lsm.github.io/vn4.1/namelists/jules_snow.nml.html
sort-key = 08

[namelist:jules_snow=nsmax]
compulsory = true
description = Maximum number of layers in the snow pack
url = http://jules-lsm.github.io/vn4.1/namelists/jules_snow.nml.html#JULES_SNOW::nsmax
type = integer
range = 0:
trigger = namelist:jules_snow=dzsnow: this > 0;
        = namelist:jules_snow=rho_snow_fresh: this > 0;
        = namelist:jules_snow=snowliqcap: this > 0;
sort-key = a

[namelist:jules_snow=l_snowdep_surf]
compulsory = true
description = Use equivalent canopy snow depth for surface calculations on tiles with a snow canopy
url = http://jules-lsm.github.io/vn4.1/namelists/jules_snow.nml.html#JULES_SNOW::l_snowdep_surf
type = logical
sort-key = b

[namelist:jules_snow=frac_snow_subl_melt]
compulsory = true
description = Switch for use of snow-cover fraction in the calculation of sublimation and melting
url = http://jules-lsm.github.io/vn4.1/namelists/jules_snow.nml.html#JULES_SNOW::frac_snow_subl_melt
value-titles = Off,On
values = 0,1
widget[rose-config-edit] = rose.config_editor.valuewidget.combobox.ComboBoxValueWidget
sort-key = c

[namelist:jules_snow=dzsnow]
compulsory = true
description = Prescribed thickness of each snow layer (m)
url = http://jules-lsm.github.io/vn4.1/namelists/jules_snow.nml.html#JULES_SNOW::dzsnow
type = real
length = :
fail-if = len(this) != namelist:jules_snow=nsmax; # A value must be given for each snow layer
sort-key = d

[namelist:jules_snow=cansnowpft]
description = Flag indicating whether snow can be held under the canopy of each PFT
url = http://jules-lsm.github.io/vn4.1/namelists/jules_snow.nml.html#JULES_SNOW::cansnowpft
type = logical
length = :
fail-if = len(this) != namelist:jules_surface_types=npft; # A value must be given for each PFT
sort-key = e

[namelist:jules_snow=r0]
ns = namelist/Science settings/Snow options/Radiation parameters
description=Grain size for fresh snow (um)
url = http://jules-lsm.github.io/vn4.1/namelists/jules_snow.nml.html#JULES_SNOW::r0
type = real
sort-key = a

[namelist:jules_snow=rmax]
ns = namelist/Science settings/Snow options/Radiation parameters
description = Maximum snow grain size (um)
url = http://jules-lsm.github.io/vn4.1/namelists/jules_snow.nml.html#JULES_SNOW::rmax
type = real
sort-key = b

[namelist:jules_snow=snow_ggr]
ns = namelist/Science settings/Snow options/Radiation parameters
description = Snow grain area growth rates (um2 s-1)
url = http://jules-lsm.github.io/vn4.1/namelists/jules_snow.nml.html#JULES_SNOW::snow_ggr
type = real
length = 3
sort-key = c

[namelist:jules_snow=amax]
ns = namelist/Science settings/Snow options/Radiation parameters
description = Maximum albedo for fresh snow
url = http://jules-lsm.github.io/vn4.1/namelists/jules_snow.nml.html#JULES_SNOW::amax
type = real
length = 2
sort-key = d

[namelist:jules_snow=maskd]
ns = namelist/Science settings/Snow options/Radiation parameters
description = Used in exponent of equation weighting snow-covered and snow-free albedo
url = http://jules-lsm.github.io/vn4.1/namelists/jules_snow.nml.html#JULES_SNOW::maskd
type = real
sort-key = e

[namelist:jules_snow=dtland]
ns = namelist/Science settings/Snow options/Radiation parameters
description = Degrees Celsius below zero at which snow albedo equals cold deep snow albedo
url = http://jules-lsm.github.io/vn4.1/namelists/jules_snow.nml.html#JULES_SNOW::dtland
type = real
sort-key = f

[namelist:jules_snow=kland_numerator]
ns = namelist/Science settings/Snow options/Radiation parameters
description = Used in snow-ageing effect on albedo
url = http://jules-lsm.github.io/vn4.1/namelists/jules_snow.nml.html#JULES_SNOW::kland_numerator
type = real
sort-key = g

[namelist:jules_snow=rho_snow_const]
ns = namelist/Science settings/Snow options/Other parameters
description = Constant density of lying snow (kg m-3)
url = http://jules-lsm.github.io/vn4.1/namelists/jules_snow.nml.html#JULES_SNOW::rho_snow_const
type = real
sort-key = a

[namelist:jules_snow=rho_snow_fresh]
ns = namelist/Science settings/Snow options/Other parameters
description = Density of fresh snow (kg m-3)
url = http://jules-lsm.github.io/vn4.1/namelists/jules_snow.nml.html#JULES_SNOW::rho_snow_fresh
type = real
sort-key = b

[namelist:jules_snow=snow_hcon]
ns = namelist/Science settings/Snow options/Other parameters
description = Thermal conductivity of lying snow (W m-1 K-1)
url = http://jules-lsm.github.io/vn4.1/namelists/jules_snow.nml.html#JULES_SNOW::snow_hcon
type = real
sort-key = c

[namelist:jules_snow=snow_hcap]
ns = namelist/Science settings/Snow options/Other parameters
description = Thermal capacity of lying snow (J K-1 m-3)
url = http://jules-lsm.github.io/vn4.1/namelists/jules_snow.nml.html#JULES_SNOW::snow_hcap
type = real
sort-key = d

[namelist:jules_snow=snowliqcap]
ns = namelist/Science settings/Snow options/Other parameters
description = Liquid water holding capacity of lying snow, as a fraction of snow mass
url = http://jules-lsm.github.io/vn4.1/namelists/jules_snow.nml.html#JULES_SNOW::snowliqcap
type = real
sort-key = e

[namelist:jules_snow=snowinterceptfact]
ns = namelist/Science settings/Snow options/Other parameters
description = Constant in relationship between mass of intercepted snow and snowfall rate
url = http://jules-lsm.github.io/vn4.1/namelists/jules_snow.nml.html#JULES_SNOW::snowinterceptfact
type = real
sort-key = f

[namelist:jules_snow=snowloadlai]
ns = namelist/Science settings/Snow options/Other parameters
description = Ratio of maximum canopy snow load to leaf area index (kg m-2)
url = http://jules-lsm.github.io/vn4.1/namelists/jules_snow.nml.html#JULES_SNOW::snowloadlai
type = real
sort-key = g

[namelist:jules_snow=snowunloadfact]
ns = namelist/Science settings/Snow options/Other parameters
description = Constant in relationship between canopy snow unloading and canopy snow melt rate
url = http://jules-lsm.github.io/vn4.1/namelists/jules_snow.nml.html#JULES_SNOW::snowunloadfact
type = real
sort-key = h


#######################################################################################################
#######################################################################################################


[namelist:jules_pftparm]
compulsory = true 
ns = namelist/Science settings/PFT parameters
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#namelist-JULES_PFTPARM
description =Most parameters in this section are required, even if they are not used
            =However, they can be left at their default value
            =
            =Click on names for more details
            =
sort-key = 09
widget[rose-config-edit] = rose.config_editor.pagewidget.table.PageArrayTable

[namelist:jules_pftparm=canht_ft_io]
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::canht_ft_io
fail-if =  len(this) != namelist:jules_surface_types=npft
length = :
type = real
sort-key = 01

[namelist:jules_pftparm=lai_io]
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::lai_io
fail-if =  len(this) != namelist:jules_surface_types=npft
length = :
type = real
sort-key = 02

[namelist:jules_pftparm=c3_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::c3_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
values = 0,1
value-titles = Not C3,C3
sort-key = 03

[namelist:jules_pftparm=orient_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::orient_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
values = 0,1
value-titles = Spherical,Horizontal
sort-key = 04

[namelist:jules_pftparm=a_wl_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::a_wl_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=a_ws_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::a_ws_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=aef_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::aef_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=albsnc_max_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::albsnc_max_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
range = 0:1
type = real

[namelist:jules_pftparm=albsnc_min_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::albsnc_min_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
range = 0:1
type = real

[namelist:jules_pftparm=albsnf_max_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::albsnf_max_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
range = 0:1
type = real

[namelist:jules_pftparm=albsnf_maxl_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::albsnf_maxl_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
range = 0:1
type = real

[namelist:jules_pftparm=albsnf_maxu_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::albsnf_maxu_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
range = 0:1
type = real

[namelist:jules_pftparm=alnir_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::alnir_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
range = 0:1
type = real

[namelist:jules_pftparm=alnirl_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::alnirl_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
range = 0:1
type = real

[namelist:jules_pftparm=alniru_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::alniru_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
range = 0:1
type = real

[namelist:jules_pftparm=alpar_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::alpar_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
range = 0:1
type = real

[namelist:jules_pftparm=alparl_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::alparl_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=alparu_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::alparu_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
range = 0:1
type = real

[namelist:jules_pftparm=alpha_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::alpha_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=b_wl_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::b_wl_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=catch0_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::catch0_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=ci_st_io]
compulsory = true
url = http://jules-lsm.github.io/vn3.4/namelists/pft_params.nml.html#JULES_PFTPARM::ci_st_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=dcatch_dlai_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::dcatch_dlai_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=dfp_dcuo_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::dfp_dcuo_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=dgl_dm_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::dgl_dm_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=dgl_dt_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::dgl_dt_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=dqcrit_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::dqcrit_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=dz0v_dh_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::dz0v_dh_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=emis_pft_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::emis_pft_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
range = 0:1
type = real

[namelist:jules_pftparm=eta_sl_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::eta_sl_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=f0_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::f0_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=fd_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::fd_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=fl_o3_ct_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::fl_o3_ct_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=fsmc_of_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::fsmc_of_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=g_leaf_0_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::g_leaf_0_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=glmin_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::glmin_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=gpp_st_io]
compulsory = true
url = http://jules-lsm.github.io/vn3.4/namelists/pft_params.nml.html#JULES_PFTPARM::gpp_st_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=ief_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::ief_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=infil_f_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::infil_f_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=kext_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::kext_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=kpar_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::kpar_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=mef_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::mef_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=neff_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::neff_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=nl0_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::nl0_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=nr_nl_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::nr_nl_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=ns_nl_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::ns_nl_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=omega_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::omega_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
range = 0:1
type = real

[namelist:jules_pftparm=omegal_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::omegal_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
range = 0:1
type = real

[namelist:jules_pftparm=omegau_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::omegau_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
range = 0:1
type = real

[namelist:jules_pftparm=omnir_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::omnir_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
range = 0:1
type = real

[namelist:jules_pftparm=omnirl_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::omnirl_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
range = 0:1
type = real

[namelist:jules_pftparm=omniru_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::omniru_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
range = 0:1
type = real

[namelist:jules_pftparm=r_grow_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::r_grow_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=rootd_ft_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::rootd_ft_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=sigl_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::sigl_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=tef_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::tef_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=tleaf_of_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::tleaf_of_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=tlow_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::tlow_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=tupp_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::tupp_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=z0hm_classic_pft_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::z0hm_classic_pft_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=z0hm_pft_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::z0hm_pft_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=kn_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::kn_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=q10_leaf_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::q10_leaf_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=lma_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::lma_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=nmass_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::nmass_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=vint_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::vint_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_pftparm=vsl_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/pft_params.nml.html#JULES_PFTPARM::vsl_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

#######################################################################################################
#######################################################################################################


[namelist:jules_cropparm]
compulsory = true
ns = namelist/Science settings/Crop parameters
url = http://jules-lsm.github.io/vn4.1/namelists/crop_params.nml.html#namelist-JULES_CROPPARM
description =Click on names for more details
            =
sort-key = 10
widget[rose-config-edit] = rose.config_editor.pagewidget.table.PageArrayTable

[namelist:jules_cropparm=allo1_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/crop_params.nml.html#JULES_CROPPARM::allo1_io
fail-if = len(this) != namelist:jules_surface_types=ncpft
length = :
type = real

[namelist:jules_cropparm=allo2_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/crop_params.nml.html#JULES_CROPPARM::allo2_io
fail-if = len(this) != namelist:jules_surface_types=ncpft
length = :
type = real

[namelist:jules_cropparm=alpha1_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/crop_params.nml.html#JULES_CROPPARM::alpha1_io
fail-if = len(this) != namelist:jules_surface_types=ncpft
length = :
type = real

[namelist:jules_cropparm=alpha2_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/crop_params.nml.html#JULES_CROPPARM::alpha2_io
fail-if = len(this) != namelist:jules_surface_types=ncpft
length = :
type = real

[namelist:jules_cropparm=alpha3_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/crop_params.nml.html#JULES_CROPPARM::alpha3_io
fail-if = len(this) != namelist:jules_surface_types=ncpft
length = :
type = real

[namelist:jules_cropparm=beta1_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/crop_params.nml.html#JULES_CROPPARM::beta1_io
fail-if = len(this) != namelist:jules_surface_types=ncpft
length = :
type = real

[namelist:jules_cropparm=beta2_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/crop_params.nml.html#JULES_CROPPARM::beta2_io
fail-if = len(this) != namelist:jules_surface_types=ncpft
length = :
type = real

[namelist:jules_cropparm=beta3_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/crop_params.nml.html#JULES_CROPPARM::beta3_io
fail-if = len(this) != namelist:jules_surface_types=ncpft
length = :
type = real

[namelist:jules_cropparm=cfrac_l_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/crop_params.nml.html#JULES_CROPPARM::cfrac_l_io
fail-if = len(this) != namelist:jules_surface_types=ncpft
length = :
type = real

[namelist:jules_cropparm=cfrac_r_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/crop_params.nml.html#JULES_CROPPARM::cfrac_r_io
fail-if = len(this) != namelist:jules_surface_types=ncpft
length = :
type = real

[namelist:jules_cropparm=cfrac_s_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/crop_params.nml.html#JULES_CROPPARM::cfrac_s_io
fail-if = len(this) != namelist:jules_surface_types=ncpft
length = :
type = real

[namelist:jules_cropparm=crit_pp_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/crop_params.nml.html#JULES_CROPPARM::crit_pp_io
fail-if = len(this) != namelist:jules_surface_types=ncpft
length = :
type = real

[namelist:jules_cropparm=delta_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/crop_params.nml.html#JULES_CROPPARM::delta_io
fail-if = len(this) != namelist:jules_surface_types=ncpft
length = :
type = real

[namelist:jules_cropparm=gamma_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/crop_params.nml.html#JULES_CROPPARM::gamma_io
fail-if = len(this) != namelist:jules_surface_types=ncpft
length = :
type = real

[namelist:jules_cropparm=pp_sens_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/crop_params.nml.html#JULES_CROPPARM::pp_sens_io
fail-if = len(this) != namelist:jules_surface_types=ncpft
length = :
type = real

[namelist:jules_cropparm=remob_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/crop_params.nml.html#JULES_CROPPARM::remob_io
fail-if = len(this) != namelist:jules_surface_types=ncpft
length = :
type = real

[namelist:jules_cropparm=rt_dir_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/crop_params.nml.html#JULES_CROPPARM::rt_dir_io
fail-if = len(this) != namelist:jules_surface_types=ncpft
length = :
type = real

[namelist:jules_cropparm=t_bse_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/crop_params.nml.html#JULES_CROPPARM::t_bse_io
fail-if = len(this) != namelist:jules_surface_types=ncpft
length = :
type = real

[namelist:jules_cropparm=t_max_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/crop_params.nml.html#JULES_CROPPARM::t_max_io
fail-if = len(this) != namelist:jules_surface_types=ncpft
length = :
type = real

[namelist:jules_cropparm=t_opt_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/crop_params.nml.html#JULES_CROPPARM::t_opt_io
fail-if = len(this) != namelist:jules_surface_types=ncpft
length = :
type = real

[namelist:jules_cropparm=tt_emr_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/crop_params.nml.html#JULES_CROPPARM::tt_emr_io
fail-if = len(this) != namelist:jules_surface_types=ncpft
length = :
type = real



#######################################################################################################
#######################################################################################################


[namelist:jules_triffid]
compulsory = true
ns = namelist/Science settings/TRIFFID PFT parameters
url = http://jules-lsm.github.io/vn4.1/namelists/triffid_params.nml.html#namelist-JULES_TRIFFID
description =Most parameters in this section are required, even if they are not used
            =However, they can be left at their default value
            =
            =Click on names for more details
            =
sort-key = 11
widget[rose-config-edit] = rose.config_editor.pagewidget.table.PageArrayTable

[namelist:jules_triffid=crop_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/triffid_params.nml.html#JULES_TRIFFID::crop_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
values=0,1
value-titles=Not crop,Crop

[namelist:jules_triffid=g_area_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/triffid_params.nml.html#JULES_TRIFFID::g_area_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_triffid=g_grow_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/triffid_params.nml.html#JULES_TRIFFID::g_grow_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_triffid=g_root_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/triffid_params.nml.html#JULES_TRIFFID::g_root_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_triffid=g_wood_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/triffid_params.nml.html#JULES_TRIFFID::g_wood_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_triffid=lai_max_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/triffid_params.nml.html#JULES_TRIFFID::lai_max_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real

[namelist:jules_triffid=lai_min_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/triffid_params.nml.html#JULES_TRIFFID::lai_min_io
fail-if = len(this) != namelist:jules_surface_types=npft
length = :
type = real


#######################################################################################################
#######################################################################################################


[namelist:jules_nvegparm]
compulsory = true 
ns = namelist/Science settings/Non-vegetated surface parameters
url = http://jules-lsm.github.io/vn4.1/namelists/nveg_params.nml.html#namelist-JULES_NVEGPARM
description =Most parameters in this section are required, even if they are not used
            =However, they can be left at their default value
            =
            =Click on names for more details
            =
sort-key = 12
widget[rose-config-edit] = rose.config_editor.pagewidget.table.PageArrayTable

[namelist:jules_nvegparm=albsnc_nvg_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/nveg_params.nml.html#JULES_NVEGPARM::albsnc_nvg_io
fail-if = len(this) != namelist:jules_surface_types=nnvg
length = :
range = 0:1
type = real

[namelist:jules_nvegparm=albsnf_nvg_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/nveg_params.nml.html#JULES_NVEGPARM::albsnf_nvg_io
fail-if = len(this) != namelist:jules_surface_types=nnvg
length = :
range = -1:1
type = real

[namelist:jules_nvegparm=albsnf_nvgl_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/nveg_params.nml.html#JULES_NVEGPARM::albsnf_nvgl_io
fail-if = len(this) != namelist:jules_surface_types=nnvg
length = :
range = 0:1
type = real

[namelist:jules_nvegparm=albsnf_nvgu_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/nveg_params.nml.html#JULES_NVEGPARM::albsnf_nvgu_io
fail-if = len(this) != namelist:jules_surface_types=nnvg
length = :
range = 0:1
type = real

[namelist:jules_nvegparm=catch_nvg_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/nveg_params.nml.html#JULES_NVEGPARM::catch_nvg_io
fail-if = len(this) != namelist:jules_surface_types=nnvg
length = :
type = real

[namelist:jules_nvegparm=ch_nvg_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/nveg_params.nml.html#JULES_NVEGPARM::ch_nvg_io
fail-if = len(this) != namelist:jules_surface_types=nnvg
length = :
type = real

[namelist:jules_nvegparm=emis_nvg_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/nveg_params.nml.html#JULES_NVEGPARM::emis_nvg_io
fail-if = len(this) != namelist:jules_surface_types=nnvg
length = :
range = 0:1
type = real

[namelist:jules_nvegparm=gs_nvg_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/nveg_params.nml.html#JULES_NVEGPARM::gs_nvg_io
fail-if = len(this) != namelist:jules_surface_types=nnvg
length = :
type = real

[namelist:jules_nvegparm=infil_nvg_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/nveg_params.nml.html#JULES_NVEGPARM::infil_nvg_io
fail-if = len(this) != namelist:jules_surface_types=nnvg
length = :
type = real

[namelist:jules_nvegparm=vf_nvg_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/nveg_params.nml.html#JULES_NVEGPARM::vf_nvg_io
fail-if = len(this) != namelist:jules_surface_types=nnvg
length = :
type = real
range = 0:1

[namelist:jules_nvegparm=z0_nvg_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/nveg_params.nml.html#JULES_NVEGPARM::z0_nvg_io
fail-if = len(this) != namelist:jules_surface_types=nnvg
length = :
type = real

[namelist:jules_nvegparm=z0hm_classic_nvg_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/nveg_params.nml.html#JULES_NVEGPARM::z0hm_classic_nvg_io
fail-if = len(this) != namelist:jules_surface_types=nnvg
length = :
type = real

[namelist:jules_nvegparm=z0hm_nvg_io]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/nveg_params.nml.html#JULES_NVEGPARM::z0hm_nvg_io
fail-if = len(this) != namelist:jules_surface_types=nnvg
length = :
type = real


#######################################################################################################
#######################################################################################################


[namelist:urban_switches]
compulsory = true 
ns = namelist/Science settings/Urban options
url = http://jules-lsm.github.io/vn4.1/namelists/urban.nml.html#namelist-URBAN_SWITCHES
sort-key = 12

[namelist:urban_switches=l_moruses]
compulsory = true
description = Use MORUSES parameterisations
url = http://jules-lsm.github.io/vn4.1/namelists/urban.nml.html#URBAN_SWITCHES::l_moruses
type = logical
trigger = namelist:urban_switches=l_moruses_macdonald: .true.;
        = namelist:urban_switches=l_moruses_albedo: .true.;
        = namelist:urban_switches=l_moruses_emissivity: .true.;
        = namelist:urban_switches=l_moruses_rough: .true.;
        = namelist:urban_switches=l_moruses_storage: .true.;

[namelist:urban_switches=l_urban_empirical]
compulsory = true
description = Use empirical relationships for urban geometry
url = http://jules-lsm.github.io/vn4.1/namelists/urban.nml.html#URBAN_SWITCHES::l_urban_empirical
type = logical

[namelist:urban_switches=l_moruses_macdonald]
compulsory = true
description = Use MacDonald et al. (1998) formulations
url = http://jules-lsm.github.io/vn4.1/namelists/urban.nml.html#URBAN_SWITCHES::l_moruses_macdonald
type = logical
fail-if = namelist:urban_switches=l_urban_empirical == '.true.' and this == '.false.'; # Must be true if l_urban_empirical is true

[namelist:urban_switches=l_moruses_albedo]
compulsory = true
description = Use MORUSES parameterisation for effective canyon albedo
url = http://jules-lsm.github.io/vn4.1/namelists/urban.nml.html#URBAN_SWITCHES::l_moruses_albedo
type = logical
fail-if = this == '.true.' and namelist:jules_radiation=l_cosz == '.false.' # Requires l_cosz = TRUE

[namelist:urban_switches=l_moruses_emissivity]
compulsory = true
description = Use MORUSES parameterisation for effective canyon emissivity
url = http://jules-lsm.github.io/vn4.1/namelists/urban.nml.html#URBAN_SWITCHES::l_moruses_emissivity
type = logical

[namelist:urban_switches=l_moruses_rough]
compulsory = true
description = Use MORUSES parameterisation for effective roughness length for heat
url = http://jules-lsm.github.io/vn4.1/namelists/urban.nml.html#URBAN_SWITCHES::l_moruses_rough
type = logical

[namelist:urban_switches=l_moruses_storage]
compulsory = true
description = Use MORUSES parameterisation for thermal inertia and coupling with underlying soil
url = http://jules-lsm.github.io/vn4.1/namelists/urban.nml.html#URBAN_SWITCHES::l_moruses_storage
type = logical
trigger = namelist:urban_switches=l_moruses_storage_thin: .true.;

[namelist:urban_switches=l_moruses_storage_thin]
compulsory = true
description = Use thin, insulated roof
url = http://jules-lsm.github.io/vn4.1/namelists/urban.nml.html#URBAN_SWITCHES::l_moruses_storage_thin
type = logical


#######################################################################################################
#######################################################################################################


[namelist:urban2t_param]
compulsory = true 
ns = namelist/Science settings/Urban options
url = http://jules-lsm.github.io/vn4.1/namelists/urban.nml.html#namelist-URBAN2T_PARAM

[namelist:urban2t_param=anthrop_heat_scale]
compulsory = true
description = Distribution scaling factor for anthropogenic heat flux
url = http://jules-lsm.github.io/vn4.1/namelists/urban.nml.html#URBAN2T_PARAM::anthrop_heat_scale
type = real
range = 0:1


#######################################################################################################
#######################################################################################################


[namelist:jules_time] 
compulsory = true 
ns = namelist/Timestepping information
url = http://jules-lsm.github.io/vn4.1/namelists/timesteps.nml.html#namelist-JULES_TIME
sort-key = 04

[namelist:jules_time=l_360]
compulsory = true
description = Use a 360-day year 
url = http://jules-lsm.github.io/vn4.1/namelists/timesteps.nml.html#JULES_TIME::l_360
sort-key = 1
type = logical
trigger = namelist:jules_time=l_leap: .false.;

[namelist:jules_time=l_leap]
compulsory = true
description = Include leap years
url = http://jules-lsm.github.io/vn4.1/namelists/timesteps.nml.html#JULES_TIME::l_leap
sort-key = 2
type = logical

[namelist:jules_time=timestep_len]
compulsory = true
description = Model timestep length (s)
url = http://jules-lsm.github.io/vn4.1/namelists/timesteps.nml.html#JULES_TIME::timestep_len
sort-key = 3
type = integer
range = 1:

[namelist:jules_time=main_run_start]
compulsory = true
description = Start time for the integration
url = http://jules-lsm.github.io/vn4.1/namelists/timesteps.nml.html#JULES_TIME::main_run_start
sort-key = 4
type = character
pattern=\d{4}-\d{2}-\d{2}\s{1}\d{2}:\d{2}:\d{2}

[namelist:jules_time=main_run_end]
compulsory = true
description = End time for the integration
url = http://jules-lsm.github.io/vn4.1/namelists/timesteps.nml.html#JULES_TIME::main_run_end
sort-key = 5
type = character
pattern=\d{4}-\d{2}-\d{2}\s{1}\d{2}:\d{2}:\d{2}

[namelist:jules_time=print_step]
description = Number of timesteps between printing timestep information to screen
url = http://jules-lsm.github.io/vn4.1/namelists/timesteps.nml.html#JULES_TIME::print_step
sort-key = 6
type = integer
range = 1:


#######################################################################################################
#######################################################################################################


[namelist:jules_spinup] 
compulsory = true 
ns = namelist/Spinup configuration
url = http://jules-lsm.github.io/vn4.1/namelists/timesteps.nml.html#namelist-JULES_SPINUP
sort-key = 05
widget[rose-config-edit] = pages.PageWithVariableTable --nvar nvars var use_percent tolerance

[namelist:jules_spinup=max_spinup_cycles]
compulsory = true
description = Maximum number of times the spin-up period will be repeated
url = http://jules-lsm.github.io/vn4.1/namelists/timesteps.nml.html#JULES_SPINUP::max_spinup_cycles
sort-key = 1
type = integer
range = 0:
trigger = namelist:jules_spinup=spinup_start: this > 0;
        = namelist:jules_spinup=spinup_end: this > 0;
        = namelist:jules_spinup=terminate_on_spinup_fail: this > 0;
        = namelist:jules_spinup=nvars: this > 0;

[namelist:jules_spinup=spinup_start]
compulsory = true
description = Start time for each cycle of spinup
url = http://jules-lsm.github.io/vn4.1/namelists/timesteps.nml.html#JULES_SPINUP::spinup_start
sort-key = 2
type = character
pattern=\d{4}-\d{2}-\d{2}\s{1}\d{2}:\d{2}:\d{2}

[namelist:jules_spinup=spinup_end]
compulsory = true
description = End time for each cycle of spinup
url = http://jules-lsm.github.io/vn4.1/namelists/timesteps.nml.html#JULES_SPINUP::spinup_end
sort-key = 3
type = character
pattern=\d{4}-\d{2}-\d{2}\s{1}\d{2}:\d{2}:\d{2}

[namelist:jules_spinup=terminate_on_spinup_fail]
compulsory = true
description = End the run if the model has not spun up
url = http://jules-lsm.github.io/vn4.1/namelists/timesteps.nml.html#JULES_SPINUP::terminate_on_spinup_fail
sort-key = 4
type = logical

[namelist:jules_spinup=nvars]
compulsory = true
description = Number of variables used to assess if the model has spun up
url = http://jules-lsm.github.io/vn4.1/namelists/timesteps.nml.html#JULES_SPINUP::nvars
sort-key = 5
type = integer
range = 0:
trigger = namelist:jules_spinup=var: this > 0;
        = namelist:jules_spinup=use_percent: this > 0;
        = namelist:jules_spinup=tolerance: this > 0;
        
[namelist:jules_spinup=var]
compulsory = true
description = Variables to be used to determine if the model has spun up
url = http://jules-lsm.github.io/vn4.1/namelists/timesteps.nml.html#JULES_SPINUP::var
sort-key = 6
values = smcl,t_soil
length = :
fail-if = len(this) != namelist:jules_spinup=nvars; # Must have exactly nvars entries

[namelist:jules_spinup=use_percent]
compulsory = true
description = Use percentage-based tolerance (for each variable)
url = http://jules-lsm.github.io/vn4.1/namelists/timesteps.nml.html#JULES_SPINUP::use_percent
sort-key = 7
type = logical
length = :
fail-if = len(this) != namelist:jules_spinup=nvars; # Must have exactly nvars entries

[namelist:jules_spinup=tolerance]
compulsory = true
description = Tolerance for the spin-up test (for each variable)
url = http://jules-lsm.github.io/vn4.1/namelists/timesteps.nml.html#JULES_SPINUP::tolerance
sort-key = 8
type = real
length = :
fail-if = len(this) != namelist:jules_spinup=nvars; # Must have exactly nvars entries


#######################################################################################################
#######################################################################################################


# Dummy page to force sort order for Grid configuration settings
[namespace:grid]
ns = namelist/Grid configuration
sort-key = 06


#######################################################################################################
#######################################################################################################


[namelist:jules_input_grid] 
compulsory = true 
ns = namelist/Grid configuration/Input grid
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#namelist-JULES_INPUT_GRID
sort-key = 11

[namelist:jules_input_grid=grid_is_1d]
compulsory = true
description = Input is on a 1d grid
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_INPUT_GRID::grid_is_1d
sort-key = 01
type = logical
trigger = namelist:jules_input_grid=grid_dim_name: .true.;
        = namelist:jules_input_grid=npoints: .true.;
        = namelist:jules_input_grid=x_dim_name: .false.;
        = namelist:jules_input_grid=y_dim_name: .false.;
        = namelist:jules_input_grid=nx: .false.;
        = namelist:jules_input_grid=ny: .false.;

[namelist:jules_input_grid=grid_dim_name]
description = Name of the single grid dimension
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_INPUT_GRID::grid_dim_name
sort-key = 02
type = character

[namelist:jules_input_grid=npoints]
compulsory = true
description = Size of the single grid dimension
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_INPUT_GRID::npoints
sort-key = 03
type = integer
range = 1:

[namelist:jules_input_grid=x_dim_name]
description = Name of the x dimension
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_INPUT_GRID::x_dim_name
sort-key = 04
type = character

[namelist:jules_input_grid=y_dim_name]
description = Name of the y dimension
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_INPUT_GRID::y_dim_name
sort-key = 05
type = character

[namelist:jules_input_grid=nx]
compulsory = true
description = Size of the x dimension
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_INPUT_GRID::nx
sort-key = 06
type = integer
range = 1:

[namelist:jules_input_grid=ny]
compulsory = true
description = Size of the y dimension
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_INPUT_GRID::ny
sort-key = 07
type = integer
range = 1:

[namelist:jules_input_grid=time_dim_name]
description = Name of the time dimension in input files containing time-varying data
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_INPUT_GRID::time_dim_name
sort-key = 08
type = character

[namelist:jules_input_grid=pft_dim_name]
description = Dimension name used when variables have an additional dimension of size npft
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_INPUT_GRID::pft_dim_name
sort-key = 09
type = character

[namelist:jules_input_grid=cpft_dim_name]
description = Dimension name used when variables have an additional dimension of size ncpft
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_INPUT_GRID::cpft_dim_name
sort-key = 10
type = character

[namelist:jules_input_grid=nvg_dim_name]
description = Dimension name used when variables have an additional dimension of size nnvg
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_INPUT_GRID::nvg_dim_name
sort-key = 11
type = character

[namelist:jules_input_grid=type_dim_name]
description = Dimension name used when variables have an additional dimension of size ntype
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_INPUT_GRID::type_dim_name
sort-key = 12
type = character

[namelist:jules_input_grid=tile_dim_name]
description = Dimension name used when variables have an additional dimension of size ntiles
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_INPUT_GRID::tile_dim_name
sort-key = 13
type = character

[namelist:jules_input_grid=soil_dim_name]
description = Dimension name used when variables have an additional dimension of size sm_levels
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_INPUT_GRID::soil_dim_name
sort-key = 14
type = character

[namelist:jules_input_grid=snow_dim_name]
description = Dimension name used when variables have an additional dimension of size nsmax
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_INPUT_GRID::snow_dim_name
sort-key = 15
type = character

[namelist:jules_input_grid=scpool_dim_name]
description = Dimension name used when variables have an additional dimension of size dim_cs1
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_INPUT_GRID::scpool_dim_name
sort-key = 16
type = character


#######################################################################################################
#######################################################################################################


[namelist:jules_latlon] 
compulsory = true 
ns = namelist/Grid configuration/Latitude and longitude
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#namelist-JULES_LATLON
sort-key = 12

[namelist:jules_latlon=latitude]
description = Latitude of the single grid location
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_LATLON::latitude
type = real
range = -90.0:90.0
sort-key = 1

[namelist:jules_latlon=longitude]
description = Longitude of the single grid location
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_LATLON::longitude
type = real
range = -180.0:360.0
sort-key = 2

[namelist:jules_latlon=file]
description = File to read latitude and longitude from
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_LATLON::file
type = character
sort-key = 3

[namelist:jules_latlon=lat_name]
description = Name of the variable containing the latitude data
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_LATLON::lat_name
type = character
sort-key = 4

[namelist:jules_latlon=lon_name]
description = Name of the variable containing the longitude data
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_LATLON::lon_name
type = character
sort-key = 5


#######################################################################################################
#######################################################################################################


[namelist:jules_land_frac] 
compulsory = true 
ns = namelist/Grid configuration/Land fraction
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#namelist-JULES_LAND_FRAC
description = When the input grid is a single point, that single point is assumed to be 100% land
sort-key = 13

[namelist:jules_land_frac=file]
description = File to read land fraction data from
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_LAND_FRAC::file
type = character
sort-key = 1

[namelist:jules_land_frac=land_frac_name]
description = Name of the variable containing the land fraction data
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_LAND_FRAC::land_frac_name
type = character
sort-key = 2


#######################################################################################################
#######################################################################################################


[namelist:jules_model_grid] 
compulsory = true 
ns = namelist/Grid configuration/Model grid
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#namelist-JULES_MODEL_GRID
sort-key = 14

[namelist:jules_model_grid=land_only]
compulsory = true
description = Model land points only
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_MODEL_GRID::land_only
sort-key = 1
type = logical
        
[namelist:jules_model_grid=use_subgrid]
compulsory = true
description = Model only a subgrid of the input grid
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_MODEL_GRID::use_subgrid
sort-key = 2
type = logical
trigger = namelist:jules_model_grid=latlon_region: .true.;
        
[namelist:jules_model_grid=latlon_region]
compulsory = true
description = Subgrid selection method
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_MODEL_GRID::latlon_region
sort-key = 3
values = .true.,.false.
value-titles = Latitude/longitude bounds,Points list
trigger = namelist:jules_model_grid=lat_bounds: .true.;
        = namelist:jules_model_grid=lon_bounds: .true.;
        = namelist:jules_model_grid=npoints: .false.;
        = namelist:jules_model_grid=points_file: .false.;
widget[rose-config-edit] = rose.config_editor.valuewidget.combobox.ComboBoxValueWidget
        
[namelist:jules_model_grid=lat_bounds]
compulsory = true
description = Lower and upper bounds (in that order) for latitude
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_MODEL_GRID::lat_bounds
sort-key = 4
type = real
length = 2
range = -90.0:90.0
fail-if = this(1) > this(2); # Lower bound must be smaller than upper bound

[namelist:jules_model_grid=lon_bounds]
compulsory = true
description = Lower and upper bounds (in that order) for longitude
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_MODEL_GRID::lon_bounds
sort-key = 5
type = real
length = 2
range = -180.0:360.0
fail-if = this(1) > this(2); # Lower bound must be smaller than upper bound

[namelist:jules_model_grid=npoints]
compulsory = true
description = Number of points in the points file
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_MODEL_GRID::npoints
sort-key = 6
type = integer
range = 1:

[namelist:jules_model_grid=points_file]
compulsory = true
description = Name of the file containing the latitude and longitude of each point
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_MODEL_GRID::points_file
sort-key = 7
type = character


#######################################################################################################
#######################################################################################################


[namelist:jules_surf_hgt] 
compulsory = true 
ns = namelist/Grid configuration/Tile elevations
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#namelist-JULES_SURF_HGT
sort-key = 15

[namelist:jules_surf_hgt=zero_height]
compulsory = true
description = Set all tile elevations to zero
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_SURF_HGT::zero_height
sort-key = 1
type = logical
trigger = namelist:jules_surf_hgt=surf_hgt_io: .false.;
        = namelist:jules_surf_hgt=file: .false.;
        = namelist:jules_surf_hgt=surf_hgt_name: .false.;
        
[namelist:jules_surf_hgt=surf_hgt_io]
description = Tile elevations for each tile for the single location
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_SURF_HGT::surf_hgt_io
sort-key = 2
type = real
length = :
fail-if = (namelist:jules_surface=l_aggregate and len(this) != 1) or (not namelist:jules_surface=l_aggregate and len(this) != (namelist:jules_surface_types=npft + namelist:jules_surface_types=nnvg))

[namelist:jules_surf_hgt=file]
description = Name of the file to read tile elevation data from
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_SURF_HGT::file
sort-key = 3
type = character

[namelist:jules_surf_hgt=surf_hgt_name]
description = Name of the variable containing the tile elevation data
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_SURF_HGT::surf_hgt_name
sort-key = 4
type = character


#######################################################################################################
#######################################################################################################


# Dummy page to force sort order for Ancillary namespace
[namespace:ancils]
ns = namelist/Ancillary data
sort-key = 07


#######################################################################################################
#######################################################################################################


[namelist:jules_frac] 
compulsory = true 
ns = namelist/Ancillary data/Fractions
description = Configuration of the surface type fractional coverage
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#namelist-JULES_FRAC
sort-key = 16

[namelist:jules_frac=file]
compulsory = true 
description = Name of the file to read surface type fractional coverage data
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_FRAC::file
sort-key = 1
type = character

[namelist:jules_frac=frac_name]
description = Name of the variable containing the surface type fractional coverage data
url = http://jules-lsm.github.io/vn4.1/namelists/model_grid.nml.html#JULES_SURF_HGT::frac_name
sort-key = 2
type = character


#######################################################################################################
#######################################################################################################


[namelist:jules_soil_props] 
compulsory = true 
ns = namelist/Ancillary data/Soil properties
description = Configuration of spatially varying soil properties
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#namelist-JULES_SOIL_PROPS
sort-key = 17
widget[rose-config-edit] = pages.PageWithVariableTable --nvar nvars var use_file var_name tpl_name const_val


[namelist:jules_soil_props=const_z]
compulsory = true
description = Use constant-profile soil properties
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_SOIL_PROPS::const_z
type = logical
sort-key = 1

[namelist:jules_soil_props=file]
compulsory = true
description = File (or file name template) to read soil properties from
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_SOIL_PROPS::file
type = character
sort-key = 2
trigger = namelist:jules_soil_props=tpl_name: '%vv' in this;

[namelist:jules_soil_props=nvars]
compulsory = true
description = Number of soil properties that will be given
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_SOIL_PROPS::nvars
type = integer
range = 9:9
sort-key = 3
trigger = namelist:jules_soil_props=var: this > 0;
        = namelist:jules_soil_props=use_file: this > 0;
        = namelist:jules_soil_props=var_name: this > 0;
        = namelist:jules_soil_props=tpl_name: this > 0;
        = namelist:jules_soil_props=const_val: this > 0;

[namelist:jules_soil_props=var]
compulsory = true
description = Name of the soil variable, as recognised by JULES
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_SOIL_PROPS::var
values = albsoil,b,hcap,hcon,satcon,sathh,sm_crit,sm_sat,sm_wilt
length = :
fail-if = len(this) != namelist:jules_soil_props=nvars
sort-key = 4

[namelist:jules_soil_props=use_file]
compulsory = true
description = Read variable from file
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_SOIL_PROPS::use_file
type = logical
length = :
fail-if = len(this) != namelist:jules_soil_props=nvars
sort-key = 5
trigger = namelist:jules_soil_props=file: any(this == '.true.');
        = namelist:jules_soil_props=var_name: any(this == '.true.');
        = namelist:jules_soil_props=const_val: not all(this == '.true.');

[namelist:jules_soil_props=var_name]
compulsory = true
description = Name in file (used if use_file = .true.)
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_SOIL_PROPS::var_name
type = character
length = :
fail-if = len(this) != namelist:jules_soil_props=nvars
sort-key = 6

[namelist:jules_soil_props=tpl_name]
compulsory = true
description = String to substitute into the file name template (used if use_file = .true.)
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_SOIL_PROPS::tpl_name
type = character
length = :
fail-if = len(this) != namelist:jules_soil_props=nvars
sort-key = 7

[namelist:jules_soil_props=const_val]
compulsory = true
description = Constant value for all points (used if use_file = .false.)
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_SOIL_PROPS::const_val
type = real
length = :
fail-if = len(this) != namelist:jules_soil_props=nvars
sort-key = 8


#######################################################################################################
#######################################################################################################


[namelist:jules_top] 
compulsory = true 
ns = namelist/Ancillary data/TOPMODEL properties
description = Configuration of spatially varying TOPMODEL properties
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#namelist-JULES_TOP
sort-key = 18
widget[rose-config-edit] = pages.PageWithVariableTable --nvar nvars var use_file var_name tpl_name const_val

[namelist:jules_top=file]
compulsory = true
description = File (or file name template) to read TOPMODEL properties from
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_TOP::file
type = character
sort-key = 1
trigger = namelist:jules_top=tpl_name: '%vv' in this;

[namelist:jules_top=nvars]
compulsory = true
description = Number of TOPMODEL properties that will be given
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_TOP::nvars
type = integer
range = 3:3
sort-key = 2
trigger = namelist:jules_top=var: this > 0;
        = namelist:jules_top=use_file: this > 0;
        = namelist:jules_top=var_name: this > 0;
        = namelist:jules_top=tpl_name: this > 0;
        = namelist:jules_top=const_val: this > 0;

[namelist:jules_top=var]
compulsory = true
description = Names of the TOPMODEL variable, as recognised by JULES
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_TOP::var
values = fexp,ti_mean,ti_sig
length = :
fail-if = len(this) != namelist:jules_top=nvars
sort-key = 3

[namelist:jules_top=use_file]
compulsory = true
description = Read variable from file
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_TOP::use_file
type = logical
length = :
fail-if = len(this) != namelist:jules_top=nvars
sort-key = 4
trigger = namelist:jules_top=file: any(this == '.true.');
        = namelist:jules_top=var_name: any(this == '.true.');
        = namelist:jules_top=const_val: not all(this == '.true.');

[namelist:jules_top=var_name]
compulsory = true
description = Name in file (used if use_file = .true.)
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_TOP::var_name
type = character
length = :
fail-if = len(this) != namelist:jules_top=nvars
sort-key = 5

[namelist:jules_top=tpl_name]
compulsory = true
description = String to substitute into the file name template (used if use_file = .true.)
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_TOP::tpl_name
type = character
length = :
fail-if = len(this) != namelist:jules_top=nvars
sort-key = 6

[namelist:jules_top=const_val]
compulsory = true
description = Constant value for all points (used if use_file = .false.)
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_TOP::const_val
type = real
length = :
fail-if = len(this) != namelist:jules_top=nvars
sort-key = 7


#######################################################################################################
#######################################################################################################


[namelist:jules_agric] 
compulsory = true 
ns = namelist/Ancillary data/Agricultural fraction
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#namelist-JULES_AGRIC
sort-key = 19

[namelist:jules_agric=zero_agric]
compulsory = true
description = Set agricultural fraction at all points to zero
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_AGRIC::zero_agric
sort-key = 1
type = logical
trigger = namelist:jules_agric=frac_agr: .false.;
        = namelist:jules_agric=file: .false.;
        = namelist:jules_agric=agric_name: .false.;
        
[namelist:jules_agric=frac_agr]
description = Agricultural fraction for the single location
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_AGRIC::frac_agr
sort-key = 2
type = real
length = :

[namelist:jules_agric=file]
description = Name of the file to read agricultural fraction data from
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_AGRIC::file
sort-key = 3
type = character

[namelist:jules_agric=agric_name]
description = Name of the variable containing the agricultural fraction data
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_AGRIC::agric_name
sort-key = 4
type = character


#######################################################################################################
#######################################################################################################


[namelist:jules_crop_props] 
compulsory = true 
ns = namelist/Ancillary data/Crop properties
description = Configuration of spatially varying crop properties
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#namelist-JULES_CROP_PROPS
sort-key = 20
widget[rose-config-edit] = pages.PageWithVariableTable --nvar nvars var use_file var_name tpl_name const_val

[namelist:jules_crop_props=file]
compulsory = true
description = File (or file name template) to read crop properties from
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_CROP_PROPS::file
type = character
sort-key = 1
trigger = namelist:jules_crop_props=tpl_name: '%vv' in this;

[namelist:jules_crop_props=nvars]
compulsory = true
description = Number of crop properties that will be given
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_CROP_PROPS::nvars
type = integer
range = 2:3
sort-key = 2
trigger = namelist:jules_crop_props=var: this > 0;
        = namelist:jules_crop_props=use_file: this > 0;
        = namelist:jules_crop_props=var_name: this > 0;
        = namelist:jules_crop_props=tpl_name: this > 0;
        = namelist:jules_crop_props=const_val: this > 0;

[namelist:jules_crop_props=var]
compulsory = true
description = Names of the crop variable, as recognised by JULES
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_CROP_PROPS::var
values = cropsowdate,cropttrep,cropttveg
length = :
fail-if = len(this) != namelist:jules_crop_props=nvars
sort-key = 3

[namelist:jules_crop_props=use_file]
compulsory = true
description = Read variable from file
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_CROP_PROPS::use_file
type = logical
length = :
fail-if = len(this) != namelist:jules_crop_props=nvars
sort-key = 4
trigger = namelist:jules_crop_props=file: any(this == '.true.');
        = namelist:jules_crop_props=var_name: any(this == '.true.');
        = namelist:jules_crop_props=const_val: not all(this == '.true.');

[namelist:jules_crop_props=var_name]
compulsory = true
description = Name in file (used if use_file = .true.)
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_CROP_PROPS::var_name
type = character
length = :
fail-if = len(this) != namelist:jules_crop_props=nvars
sort-key = 5

[namelist:jules_crop_props=tpl_name]
compulsory = true
description = String to substitute into the file name template (used if use_file = .true.)
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_CROP_PROPS::tpl_name
type = character
length = :
fail-if = len(this) != namelist:jules_crop_props=nvars
sort-key = 6

[namelist:jules_crop_props=const_val]
compulsory = true
description = Constant value for all points (used if use_file = .false.)
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_CROP_PROPS::const_val
type = real
length = :
fail-if = len(this) != namelist:jules_crop_props=nvars
sort-key = 7

#######################################################################################################
#######################################################################################################

[namelist:jules_irrig] 
compulsory = true 
ns = namelist/Ancillary data/Irrigation fraction 
description = Configuration of irrigation demand code
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#namelist-JULES_IRRIG
sort-key = 21

[namelist:jules_irrig=frac_irrig_all_tiles]
compulsory = true 
description = Irrigate all tiles
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_IRRIG::frac_irrig_all_tiles
sort-key = 1
type = logical
trigger = namelist:jules_irrig=nirrtile: .false.;
        = namelist:jules_irrig=irrigtiles: .false.;

[namelist:jules_irrig=nirrtile]
compulsory = true
description = Number of tile to be irrigated
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_IRRIG::nirrtile
sort-key = 3
type = integer
range = 0:

[namelist:jules_irrig=irrigtiles]
compulsory = true
description = indices of tiles to be irrigated
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_IRRIG::irrigtiles
sort-key = 4
type = integer
range = 1:
length = :
fail-if = len(this) != namelist:jules_irrig=nirrtile

[namelist:jules_irrig=read_file]
compulsory = true
description = Read irrigation fraction from file
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_IRRIG::read_file
sort-key = 5
type = logical
trigger = namelist:jules_irrig=file: .true.;
        = namelist:jules_irrig=var_name: .true.;
        = namelist:jules_irrig=const_frac_irr: .false.;

[namelist:jules_irrig=file]
compulsory = true
description = Path to file containing irrigation fraction
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_IRRIG::file
sort-key = 6
type = character

[namelist:jules_irrig=var_name]
compulsory = true
description = Name of irrigation fraction variable in file
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_IRRIG::var_name
sort-key = 7
type = character 

[namelist:jules_irrig=const_frac_irr]
compulsory = true
description = Constant value of irrigation fraction to be applied
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_IRRIG::const_frac_irr
sort-key = 8
type = real


#######################################################################################################
#######################################################################################################


[namelist:jules_co2] 
compulsory = true 
ns = namelist/Ancillary data/CO2 concentration
description = Configuration of co2 concentration
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#namelist-JULES_CO2
sort-key = 22

[namelist:jules_co2=co2_mmr]
description = Concentration of atmospheric CO2 as a mass mixing ratio
url = http://jules-lsm.github.io/vn4.1/namelists/ancillaries.nml.html#JULES_CO2::file
type = real
sort-key = 1


#######################################################################################################
#######################################################################################################


[namelist:urban_properties] 
compulsory = true 
ns = namelist/Ancillary data/Urban properties
description = Configuration of spatially varying urban properties
url = http://jules-lsm.github.io/vn4.1/namelists/urban.nml.html#namelist-URBAN_PROPERTIES
sort-key = 23
widget[rose-config-edit] = pages.PageWithVariableTable --nvar nvars var use_file var_name tpl_name const_val

[namelist:urban_properties=file]
compulsory = true
description = File (or file name template) to read urban properties from
url = http://jules-lsm.github.io/vn4.1/namelists/urban.nml.html#URBAN_PROPERTIES::file
type = character
sort-key = 1
trigger = namelist:urban_properties=tpl_name: '%vv' in this;

[namelist:urban_properties=nvars]
compulsory = true
description = Number of urban properties that will be given
url = http://jules-lsm.github.io/vn4.1/namelists/urban.nml.html#URBAN_PROPERTIES::nvars
type = integer
range = 1:9
sort-key = 2
trigger = namelist:urban_properties=var: this > 0;
        = namelist:urban_properties=use_file: this > 0;
        = namelist:urban_properties=var_name: this > 0;
        = namelist:urban_properties=tpl_name: this > 0;
        = namelist:urban_properties=const_val: this > 0;

[namelist:urban_properties=var]
compulsory = true
description = Name of the urban variable, as recognised by JULES
url = http://jules-lsm.github.io/vn4.1/namelists/urban.nml.html#URBAN_PROPERTIES::var
values = albrd,albwl,disp,emisr,emisw,hgt,hwr,wrr,ztm
length = :
fail-if = len(this) != namelist:urban_properties=nvars
sort-key = 3

[namelist:urban_properties=use_file]
compulsory = true
description = Read variable from file
url = http://jules-lsm.github.io/vn4.1/namelists/urban.nml.html#URBAN_PROPERTIES::use_file
type = logical
length = :
fail-if = len(this) != namelist:urban_properties=nvars
sort-key = 4
trigger = namelist:urban_properties=file: any(this == '.true.');
        = namelist:urban_properties=var_name: any(this == '.true.');
        = namelist:urban_properties=const_val: not all(this == '.true.');

[namelist:urban_properties=var_name]
compulsory = true
description = Name in file (used if use_file = .true.)
url = http://jules-lsm.github.io/vn4.1/namelists/urban.nml.html#URBAN_PROPERTIES::var_name
type = character
length = :
fail-if = len(this) != namelist:urban_properties=nvars
sort-key = 5

[namelist:urban_properties=tpl_name]
compulsory = true
description = String to substitute into the file name template (used if use_file = .true.)
url = http://jules-lsm.github.io/vn4.1/namelists/urban.nml.html#URBAN_PROPERTIES::tpl_name
type = character
length = :
fail-if = len(this) != namelist:urban_properties=nvars
sort-key = 6

[namelist:urban_properties=const_val]
compulsory = true
description = Constant value for all points (used if use_file = .false.)
url = http://jules-lsm.github.io/vn4.1/namelists/urban.nml.html#URBAN_PROPERTIES::const_val
type = real
length = :
fail-if = len(this) != namelist:urban_properties=nvars
sort-key = 7


#######################################################################################################
#######################################################################################################


[namelist:jules_drive] 
compulsory = true
ns = namelist/Driving data
description = Configuration of meteorological forcing data
url = http://jules-lsm.github.io/vn4.1/namelists/drive.nml.html#namelist-JULES_DRIVE
sort-key = 08
widget[rose-config-edit] = pages.PageWithVariableTable --nvar nvars var var_name tpl_name interp

[namelist:jules_drive=l_imogen]
compulsory = true
description = Use IMOGEN to generate meteorological forcing data
url = http://jules-lsm.github.io/vn4.1/namelists/drive.nml.html#JULES_DRIVE::l_imogen
type = logical
sort-key = 01
trigger = namelist:jules_drive=l_daily_disagg: .false.;
        = namelist:jules_drive=data_start: .false.;
        = namelist:jules_drive=data_end: .false.;
        = namelist:jules_drive=data_period: .false.;
        = namelist:jules_drive=read_list: .false.;
        = namelist:jules_drive=file: .false.;
        = namelist:jules_drive=nvars: .false.;
        = namelist:imogen_run_list: .true.;
        = namelist:imogen_anlg_vals_list: .true.;
fail-if = this == '.true.' and namelist:jules_spinup=max_spinup_cycles != 0; # IMOGEN runs must not have spinup
        = this == '.true.' and '01-01 00:00:00' not in namelist:jules_time=main_run_start; # IMOGEN runs must start at 00:00:00 on 1st Jan for some year
        = this == '.true.' and (namelist:jules_input_grid=grid_is_1d == '.true.' or namelist:jules_input_grid=nx != 96 or namelist:jules_input_grid=ny != 56); # IMOGEN requires a 2D grid of size 96 x 56

[namelist:jules_drive=l_daily_disagg]
compulsory = true
description = Use daily disaggregator
url = http://jules-lsm.github.io/vn4.1/namelists/drive.nml.html#JULES_DRIVE::l_daily_disagg
type = logical
sort-key = 02
fail-if = this == '.true.' and namelist:jules_drive=data_period != 86400; # Daily disaggregator requires daily data
        = this == '.true.' and '00:00:00' not in namelist:jules_drive=data_start; # Daily disaggregator requires data start time of 00:00:00
        = this == '.true.' and '00:00:00' not in namelist:jules_time=main_run_start; # Daily disaggregator requires run start time of 00:00:00
        = this == '.true.' and '00:00:00' not in namelist:jules_spinup=spinup_start; # Daily disaggregator requires spinup start time of 00:00:00
        = this == '.true.' and not any(namelist:jules_drive=var == 'lw_down'); # Daily disaggregator requires that lw_down and sw_down are present in var
        = this == '.true.' and not any(namelist:jules_drive=var == 'dt_range'); # Daily disaggregator requires that dt_range is present in var
trigger = namelist:jules_drive=l_disagg_const_rh: .true.;
        = namelist:jules_drive=dur_conv_rain: .true.;
        = namelist:jules_drive=dur_ls_rain: .true.;
        = namelist:jules_drive=dur_conv_snow: .true.;
        = namelist:jules_drive=dur_ls_snow: .true.;
        = namelist:jules_drive=precip_disagg_method: .true.;

[namelist:jules_drive=l_disagg_const_rh]
compulsory = true
description = Keep relative humidity constant over the day
url = http://jules-lsm.github.io/vn4.1/namelists/drive.nml.html#JULES_DRIVE::l_disagg_const_rh
type = logical
sort-key = 03

[namelist:jules_drive=dur_conv_rain]
description = Duration of a convective rainfall event in seconds
url = http://jules-lsm.github.io/vn4.1/namelists/drive.nml.html#JULES_DRIVE::dur_conv_rain
type = real
range = 0:
sort-key = 04

[namelist:jules_drive=dur_ls_rain]
description = Duration of a large-scale rainfall event in seconds
url = http://jules-lsm.github.io/vn4.1/namelists/drive.nml.html#JULES_DRIVE::dur_ls_rain
type = real
range = 0:
sort-key = 05

[namelist:jules_drive=dur_conv_snow]
description = Duration of a convective snowfall event in seconds
url = http://jules-lsm.github.io/vn4.1/namelists/drive.nml.html#JULES_DRIVE::dur_conv_snow
type = real
range = 0:
sort-key = 06

[namelist:jules_drive=dur_ls_snow]
description = Duration of a large-scale snowfall event in seconds
url = http://jules-lsm.github.io/vn4.1/namelists/drive.nml.html#JULES_DRIVE::dur_ls_snow
type = real
range = 0:
sort-key = 07

[namelist:jules_drive=precip_disagg_method]
compulsory = true
description = Disaggregation method for precipitation
url = http://jules-lsm.github.io/vn4.1/namelists/drive.nml.html#JULES_DRIVE::precip_disagg_method
values = 1,2,3,4
value-titles = No disaggregation,IMOGEN method,IMOGEN method with no upper limit,Random wet and dry timesteps
sort-key = 08
widget[rose-config-edit] = rose.config_editor.valuewidget.combobox.ComboBoxValueWidget

[namelist:jules_drive=z1_uv_in]
description = Height (m) at which the wind data are valid for every point
url = http://jules-lsm.github.io/vn4.1/namelists/drive.nml.html#JULES_DRIVE::z1_uv_in
type = real
sort-key = 09

[namelist:jules_drive=z1_tq_vary]
compulsory = true
description = Use spatially varying z1_tq
url = http://jules-lsm.github.io/vn4.1/namelists/drive.nml.html#JULES_DRIVE::z1_tq_vary
type = logical
sort-key = 10
trigger = namelist:jules_drive=z1_tq_in: .false.;
        = namelist:jules_drive=z1_tq_file: .true.;
        = namelist:jules_drive=z1_tq_var_name: .true.;

[namelist:jules_drive=z1_tq_in]
description = Height (m) at which the temperature and humidity data are valid for every point
url = http://jules-lsm.github.io/vn4.1/namelists/drive.nml.html#JULES_DRIVE::z1_tq_in
type = real
sort-key = 11

[namelist:jules_drive=z1_tq_file]
compulsory = true
description = File to read spatially varying z1_tq from
url = http://jules-lsm.github.io/vn4.1/namelists/drive.nml.html#JULES_DRIVE::z1_tq_file
type = character
sort-key = 12

[namelist:jules_drive=z1_tq_var_name]
compulsory = true
description = Name of the variable containing the data for z1_tq
url = http://jules-lsm.github.io/vn4.1/namelists/drive.nml.html#JULES_DRIVE::z1_tq_var_name
type = character
sort-key = 12

[namelist:jules_drive=data_start]
compulsory = true
description = Start time of the first timestep of data
url = http://jules-lsm.github.io/vn4.1/namelists/drive.nml.html#JULES_DRIVE::data_start
type = character
pattern=\d{4}-\d{2}-\d{2}\s{1}\d{2}:\d{2}:\d{2}
sort-key = 13

[namelist:jules_drive=data_end]
compulsory = true
description = End time of the last timestep of data
url = http://jules-lsm.github.io/vn4.1/namelists/drive.nml.html#JULES_DRIVE::data_end
type = character
pattern=\d{4}-\d{2}-\d{2}\s{1}\d{2}:\d{2}:\d{2}
sort-key = 14

[namelist:jules_drive=data_period]
compulsory = true
description = Period of the data
            = -2 => Annual, -1 => Monthly, > 1 => Period in seconds
url = http://jules-lsm.github.io/vn4.1/namelists/drive.nml.html#JULES_DRIVE::data_period
type = integer
range = -2,-1,1:
sort-key = 15

[namelist:jules_drive=read_list]
compulsory = true
description = Use list of file names with start times
url = http://jules-lsm.github.io/vn4.1/namelists/drive.nml.html#JULES_DRIVE::read_list
type = logical
sort-key = 16
trigger = namelist:jules_drive=nfiles: .true.;

[namelist:jules_drive=nfiles]
compulsory = true
description = Number of files to read names and start times for
url = http://jules-lsm.github.io/vn4.1/namelists/drive.nml.html#JULES_DRIVE::nfiles
type = integer
range = 0:
sort-key = 17

[namelist:jules_drive=file]
compulsory = true
description =If read_list = TRUE, file to read list of data file names and times from
            =If read_list = FALSE, file or file name template for data files
url = http://jules-lsm.github.io/vn4.1/namelists/drive.nml.html#JULES_DRIVE::file
type = character
sort-key = 18

[namelist:jules_drive=nvars]
compulsory = true
description = Number of forcing variables that will be provided
url = http://jules-lsm.github.io/vn4.1/namelists/drive.nml.html#JULES_DRIVE::nfiles
type = integer
range = 7:13
trigger = namelist:jules_drive=var: this > 0;
        = namelist:jules_drive=var_name: this > 0;
        = namelist:jules_drive=tpl_name: this > 0;
        = namelist:jules_drive=interp: this > 0;
sort-key = 19

[namelist:jules_drive=var]
compulsory = true
description = Forcing variable names as recognised by JULES
url = http://jules-lsm.github.io/vn4.1/namelists/drive.nml.html#JULES_DRIVE::var
values = con_rain,con_snow,diff_rad,dt_range,ls_rain,ls_snow,lw_down,lw_net,precip,pstar,q,rad_net,sw_down,sw_net,t,tot_rain,tot_snow,u,v,wind
length = :
trigger = namelist:jules_drive=t_for_snow: any(this == 'precip');
        = namelist:jules_drive=t_for_con_rain: any(this == 'precip') or any(this == 'tot_rain');
        = namelist:jules_drive=diff_frac_const: not any(this == 'diff_rad');
fail-if = len(this) != namelist:jules_drive=nvars;
        = not any(this == 'pstar'); # pstar is required
        = not any(this == 'q'); # q is required
        = not any(this == 't'); # t is required
        = any(this == 'rad_net') and not any(this == 'sw_down'); # If rad_net is given, sw_down must be given
        = any(this == 'lw_net') and not any(this == 'sw_net'); # If lw_net is given, sw_net must be given
        = any(this == 'lw_down') and not any(this == 'sw_down'); # If lw_down is given, sw_down must be given
        = any(this == 'tot_rain') and not any(this == 'tot_snow'); # If tot_rain is given, tot_snow must be given
        = any(this == 'ls_rain') and namelist:jules_surface=l_point_data == '.true.'; # If l_point_data is TRUE, precip or tot_rain/tot_snow must be used
        = any(this == 'ls_rain') and not any(this == 'con_rain'); # If ls_rain is given, con_rain must be given
        = any(this == 'ls_snow') and not any(this == 'con_snow'); # If ls_snow is given, con_snow must be given
        = any(this == 'u') and not any(this == 'v'); # If u is given, v must be given
sort-key = 20

[namelist:jules_drive=var_name]
compulsory = true
description = Name of the variable in file for each variable in var
url = http://jules-lsm.github.io/vn4.1/namelists/drive.nml.html#JULES_DRIVE::var_name
type = character
length = :
fail-if = len(this) != namelist:jules_drive=nvars
sort-key = 21

[namelist:jules_drive=tpl_name]
compulsory = true
description = String to substitute into the file name template (used if use_file = .true.)
url = http://jules-lsm.github.io/vn4.1/namelists/drive.nml.html#JULES_DRIVE::tpl_name
type = character
length = :
fail-if = len(this) != namelist:jules_drive=nvars
sort-key = 22

[namelist:jules_drive=interp]
compulsory = true
description = Method of time interpolation for each variable in var
url = http://jules-lsm.github.io/vn4.1/namelists/drive.nml.html#JULES_DRIVE::interp
values = b,c,f,i,nb,nc,nf
length = :
fail-if = len(this) != namelist:jules_drive=nvars
sort-key = 23

[namelist:jules_drive=t_for_snow]
description = Temperature (K) at or below which precipitation is assumed to be snowfall
url = http://jules-lsm.github.io/vn4.1/namelists/drive.nml.html#JULES_DRIVE::t_for_snow
type = real
range = 0:
sort-key = 24

[namelist:jules_drive=t_for_con_rain]
description = Temperature (K) at or above which rainfall is assumed to be convective
url = http://jules-lsm.github.io/vn4.1/namelists/drive.nml.html#JULES_DRIVE::t_for_con_rain
type = real
range = 0:
sort-key = 25

[namelist:jules_drive=diff_frac_const]
description = Fraction of downward shortwave radiation assumed to be diffuse
url = http://jules-lsm.github.io/vn4.1/namelists/drive.nml.html#JULES_DRIVE::diff_frac_const
type = real
range = 0:1
sort-key = 26


#######################################################################################################
#######################################################################################################


# Dummy section to combine IMOGEN namelists
[namespace:imogen]
ns = namelist/IMOGEN
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html
sort-key = 09


#######################################################################################################
#######################################################################################################


[namelist:imogen_run_list]
compulsory = true
ns = namelist/IMOGEN/Run options
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#namelist-IMOGEN_RUN_LIST
sort-key = 1

[namelist:imogen_run_list=co2_init_ppmv]
description = Initial CO2 concentration (ppmv)
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#IMOGEN_RUN_LIST::co2_init_ppmv
type = real

[namelist:imogen_run_list=file_scen_emits]
compulsory = true
description = File containing CO2 emissions
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#IMOGEN_RUN_LIST::file_scen_emits
type = character

[namelist:imogen_run_list=file_non_co2_vals]
compulsory = true
description = File containing non-CO2 values
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#IMOGEN_RUN_LIST::file_non_co2_vals
type = character

[namelist:imogen_run_list=file_scen_co2_ppmv]
compulsory = true
description = File containing CO2 values
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#IMOGEN_RUN_LIST::file_scen_co2_ppmv
type = character

[namelist:imogen_run_list=anlg]
compulsory = true
description = Use GCM analogue model
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#IMOGEN_RUN_LIST::anlg
type = logical

[namelist:imogen_run_list=anom]
compulsory = true
description = Incorporate anomalies
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#IMOGEN_RUN_LIST::anom
type = logical

[namelist:imogen_run_list=c_emissions]
compulsory = true
description = Calculate CO2 concentration
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#IMOGEN_RUN_LIST::c_emissions
type = logical

[namelist:imogen_run_list=include_co2]
compulsory = true
description = Include adjustments to CO2 values
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#IMOGEN_RUN_LIST::include_co2
type = logical

[namelist:imogen_run_list=include_non_co2]
compulsory = true
description = Include adjustments to non-CO2 values
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#IMOGEN_RUN_LIST::include_non_co2
type = logical

[namelist:imogen_run_list=land_feed]
compulsory = true
description = Include land feedbacks on atmospheric CO2
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#IMOGEN_RUN_LIST::land_feed
type = logical

[namelist:imogen_run_list=ocean_feed]
compulsory = true
description = Include ocean feedbacks on atmospheric CO2
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#IMOGEN_RUN_LIST::ocean_feed
type = logical

[namelist:imogen_run_list=nyr_emiss]
compulsory = true
description = Number of years of emission data in file
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#IMOGEN_RUN_LIST::nyr_emiss
type = integer
range = 0:

[namelist:imogen_run_list=file_points_order]
compulsory = true
description = File mapping IMOGEN global grid points onto IMOGEN land points
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#IMOGEN_RUN_LIST::file_points_order
type = character

[namelist:imogen_run_list=initialise_from_dump]
compulsory = true
description = Use the given dump file to initialise IMOGEN prognostics
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#IMOGEN_RUN_LIST::initialise_from_dump
type = logical
trigger = namelist:imogen_run_list=dump_file: .true.;

[namelist:imogen_run_list=dump_file]
compulsory = true
description = Name of the dump file to initialise from
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#IMOGEN_RUN_LIST::dump_file
type = character


#######################################################################################################
#######################################################################################################


[namelist:imogen_anlg_vals_list]
compulsory = true
ns = namelist/IMOGEN/GCM Analogue configuration
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#namelist-IMOGEN_ANLG_VALS_LIST
sort-key = 1

[namelist:imogen_anlg_vals_list=q2co2]
description = Radiative forcing due to doubling CO2 (W m-2)
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#IMOGEN_ANLG_VALS_LIST::q2co2
type = real

[namelist:imogen_anlg_vals_list=f_ocean]
description = Fractional coverage of the ocean
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#IMOGEN_ANLG_VALS_LIST::f_ocean
type = real

[namelist:imogen_anlg_vals_list=kappa_o]
description = Ocean eddy diffusivity (W m-1 K-1)
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#IMOGEN_ANLG_VALS_LIST::kappa_o
type = real

[namelist:imogen_anlg_vals_list=lambda_l]
description = Inverse of climate sensitivity over land (W m-2 K-1)
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#IMOGEN_ANLG_VALS_LIST::lambda_l
type = real

[namelist:imogen_anlg_vals_list=lambda_o]
description = Inverse of climate sensitivity over ocean (W m-2 K-1)
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#IMOGEN_ANLG_VALS_LIST::lambda_o
type = real

[namelist:imogen_anlg_vals_list=mu]
description = Ratio of land to ocean temperature anomalies
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#IMOGEN_ANLG_VALS_LIST::mu
type = real

[namelist:imogen_anlg_vals_list=t_ocean_init]
description = Initial ocean temperature (K)
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#IMOGEN_ANLG_VALS_LIST::t_ocean_init
type = real

[namelist:imogen_anlg_vals_list=nyr_non_co2]
compulsory = true
description = Number of years for which non-CO2 forcing is prescribed
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#IMOGEN_ANLG_VALS_LIST::nyr_non_co2
type = integer
range = 0:

[namelist:imogen_anlg_vals_list=dir_patt]
compulsory = true
description = Directory containing the GCM patterns
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#IMOGEN_ANLG_VALS_LIST::dir_patt
type = character

[namelist:imogen_anlg_vals_list=dir_clim]
compulsory = true
description = Directory containing initialising climatology
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#IMOGEN_ANLG_VALS_LIST::dir_clim
type = character

[namelist:imogen_anlg_vals_list=dir_anom]
compulsory = true
description = Directory containing prescribed anomalies
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#IMOGEN_ANLG_VALS_LIST::dir_anom
type = character

[namelist:imogen_anlg_vals_list=file_non_co2]
compulsory = true
description = Use file for non-CO2 radiative forcings
url = http://jules-lsm.github.io/vn4.1/namelists/imogen.nml.html#IMOGEN_ANLG_VALS_LIST::file_non_co2
type = logical


#######################################################################################################
#######################################################################################################


[namelist:jules_prescribed]
compulsory = true
ns = namelist/Prescribed data
url = http://jules-lsm.github.io/vn4.1/namelists/prescribed_data.nml.html#namelist-JULES_PRESCRIBED
sort-key = 10

[namelist:jules_prescribed=n_datasets]
compulsory = true
url = http://jules-lsm.github.io/vn4.1/namelists/prescribed_data.nml.html#JULES_PRESCRIBED::n_datasets
type = integer
range = 0:
sort-key = 1


#######################################################################################################
#######################################################################################################


[namelist:jules_prescribed_dataset]
duplicate = true
ns = namelist/Prescribed data/Datasets
url = http://jules-lsm.github.io/vn4.1/namelists/prescribed_data.nml.html#namelist-JULES_PRESCRIBED_DATASET
widget[rose-config-edit] = pages.PageWithVariableTable --nvar nvars var var_name tpl_name interp

[namelist:jules_prescribed_dataset=data_start]
compulsory = true
description = Start time of the first timestep of data
url = http://jules-lsm.github.io/vn4.1/namelists/prescribed_data.nml.html#JULES_PRESCRIBED_DATASET::data_start
type = character
pattern=\d{4}-\d{2}-\d{2}\s{1}\d{2}:\d{2}:\d{2}
sort-key = 01

[namelist:jules_prescribed_dataset=data_end]
compulsory = true
description = End time of the last timestep of data
url = http://jules-lsm.github.io/vn4.1/namelists/prescribed_data.nml.html#JULES_PRESCRIBED_DATASET::data_end
type = character
pattern=\d{4}-\d{2}-\d{2}\s{1}\d{2}:\d{2}:\d{2}
sort-key = 02

[namelist:jules_prescribed_dataset=data_period]
compulsory = true
description = Period of the data
            = -2 => Annual, -1 => Monthly, > 1 => Period in seconds
url = http://jules-lsm.github.io/vn4.1/namelists/prescribed_data.nml.html#JULES_PRESCRIBED_DATASET::data_period
type = integer
range = -2,-1,1:
sort-key = 03

[namelist:jules_prescribed_dataset=is_climatology]
compulsory = true
description = Data is to be used as a climatology
            = Exactly one year of data must be specified
url = http://jules-lsm.github.io/vn4.1/namelists/prescribed_data.nml.html#JULES_PRESCRIBED_DATASET::is_climatology
type = logical
sort-key = 04

[namelist:jules_prescribed_dataset=read_list]
compulsory = true
description = Use list of file names with start times
url = http://jules-lsm.github.io/vn4.1/namelists/prescribed_data.nml.html#JULES_PRESCRIBED_DATASET::read_list
type = logical
sort-key = 05
trigger = namelist:jules_prescribed_dataset=nfiles: .true.;

[namelist:jules_prescribed_dataset=nfiles]
compulsory = true
description = Number of files to read names and start times for
url = http://jules-lsm.github.io/vn4.1/namelists/prescribed_data.nml.html#JULES_PRESCRIBED_DATASET::nfiles
type = integer
range = 0:
sort-key = 06

[namelist:jules_prescribed_dataset=file]
compulsory = true
description =If read_list = TRUE, file to read list of data file names and times from
            =If read_list = FALSE, file or file name template for data files
url = http://jules-lsm.github.io/vn4.1/namelists/prescribed_data.nml.html#JULES_PRESCRIBED_DATASET::file
type = character
sort-key = 07

[namelist:jules_prescribed_dataset=nvars]
compulsory = true
description = Number of variables that the dataset will provide
url = http://jules-lsm.github.io/vn4.1/namelists/prescribed_data.nml.html#JULES_PRESCRIBED_DATASET::nfiles
type = integer
range = 1:
trigger = namelist:jules_prescribed_dataset=var: this > 0;
        = namelist:jules_prescribed_dataset=var_name: this > 0;
        = namelist:jules_prescribed_dataset=tpl_name: this > 0;
        = namelist:jules_prescribed_dataset=interp: this > 0;
sort-key = 08

[namelist:jules_prescribed_dataset=var]
compulsory = true
description = Variable name as recognised by JULES
url = http://jules-lsm.github.io/vn4.1/namelists/prescribed_data.nml.html#JULES_PRESCRIBED_DATASET::var
type = character
length = :
fail-if = len(this) != namelist:jules_prescribed_dataset=nvars
sort-key = 09

[namelist:jules_prescribed_dataset=var_name]
compulsory = true
description = Name of the variable in file
url = http://jules-lsm.github.io/vn4.1/namelists/prescribed_data.nml.html#JULES_PRESCRIBED_DATASET::var_name
type = character
length = :
fail-if = len(this) != namelist:jules_prescribed_dataset=nvars
sort-key = 10

[namelist:jules_prescribed_dataset=tpl_name]
compulsory = true
description = String to substitute into the file name template
url = http://jules-lsm.github.io/vn4.1/namelists/prescribed_data.nml.html#JULES_PRESCRIBED_DATASET::tpl_name
type = character
length = :
fail-if = len(this) != namelist:jules_prescribed_dataset=nvars
sort-key = 11

[namelist:jules_prescribed_dataset=interp]
compulsory = true
description = Method of time interpolation
url = http://jules-lsm.github.io/vn4.1/namelists/prescribed_data.nml.html#JULES_PRESCRIBED_DATASET::interp
values = b,c,f,i,nb,nc,nf
length = :
fail-if = len(this) != namelist:jules_prescribed_dataset=nvars
sort-key = 12


#######################################################################################################
#######################################################################################################


[namelist:jules_initial]
compulsory = true
ns = namelist/Initial conditions
url = http://jules-lsm.github.io/vn4.1/namelists/initial_conditions.nml.html#namelist-JULES_INITIAL
sort-key = 11
widget[rose-config-edit] = pages.PageWithVariableTable --nvar nvars var use_file var_name tpl_name const_val

[namelist:jules_initial=dump_file]
compulsory = true
description = Given file is a JULES dump file
url = http://jules-lsm.github.io/vn4.1/namelists/initial_conditions.nml.html#JULES_INITIAL::dump_file
type = logical
sort-key = 01

[namelist:jules_initial=total_snow]
compulsory = true
description = Use simplified initialisation of snow variables
url = http://jules-lsm.github.io/vn4.1/namelists/initial_conditions.nml.html#JULES_INITIAL::total_snow
type = logical
sort-key = 02

[namelist:jules_initial=file]
compulsory = true
description = File to read initial conditions from
url = http://jules-lsm.github.io/vn4.1/namelists/initial_conditions.nml.html#JULES_INITIAL::file
type = character
trigger = namelist:jules_initial=tpl_name: '%vv' in this;
sort-key = 03

[namelist:jules_initial=nvars]
compulsory = true
description = Number of initial condition variables provided
            = If dump_file = TRUE, 0 indicates all variables should be read from dump
url = http://jules-lsm.github.io/vn4.1/namelists/initial_conditions.nml.html#JULES_INITIAL::file
type = integer
range = 0,7:28
fail-if = this == 0 and namelist:jules_initial=dump_file == '.false.'; # nvars == 0 can only be used with a dump file
sort-key = 04
trigger = namelist:jules_initial=var: this > 0;
        = namelist:jules_initial=use_file: this > 0;
        = namelist:jules_initial=var_name: this > 0;
        = namelist:jules_initial=tpl_name: this > 0;
        = namelist:jules_initial=const_val: this > 0;

[namelist:jules_initial=var]
compulsory = true
description = Name of initial condition variable, as recognised by JULES
url = http://jules-lsm.github.io/vn4.1/namelists/initial_conditions.nml.html#JULES_INITIAL::var
fail-if = len(this) != namelist:jules_initial=nvars;
        = not any(this == 'canopy'); # canopy must be given
        = not any(this == 'cs'); # cs must be given
        = not any(this == 'gs'); # gs must be given
        = not any(this == 'snow_tile'); # snow_tile must be given
        = not any(this == 'sthuf'); # sthuf must be given
        = not any(this == 't_soil'); # t_soil must be given
        = not any(this == 'tstar_tile'); # tstar_tile must be given
        = namelist:jules_vegetation=l_phenol == '.true.' and not any(this == 'lai'); # lai must be given if l_phenol = TRUE
        = namelist:jules_vegetation=l_triffid == '.true.' and not any(this == 'canht'); # canht must be given if l_triffid = TRUE
        = namelist:jules_vegetation=l_veg_compete == '.true.' and not any(this == 'frac'); # frac must be given if l_veg_compete = TRUE
        = namelist:jules_surface_types=ncpft > 0 and not any(this == 'cropdvi'); # cropdvi must be given if ncpft > 0
        = namelist:jules_surface_types=ncpft > 0 and not any(this == 'croprootc'); # croprootc must be given if ncpft > 0
        = namelist:jules_surface_types=ncpft > 0 and not any(this == 'cropharvc'); # cropharvc must be given if ncpft > 0
        = namelist:jules_surface_types=ncpft > 0 and not any(this == 'cropreservec'); # cropreservec must be given if ncpft > 0
        = namelist:jules_surface_types=ncpft > 0 and namelist:jules_vegetation=l_phenol == '.false.' and not any(this == 'croplai'); # croplai must be given if ncpft > 0 but l_phenol = FALSE
        = namelist:jules_surface_types=ncpft > 0 and namelist:jules_vegetation=l_triffid == '.false.' and not any(this == 'cropcanht'); # cropcanht must be given if ncpft > 0 but l_triffid = FALSE
        = namelist:jules_hydrology=l_top == '.true.' and not any(this == 'sthzw'); # sthzw must be given if l_top = TRUE
        = namelist:jules_hydrology=l_top == '.true.' and not any(this == 'zw'); # zw must be given if l_top = TRUE
        = namelist:jules_radiation=l_snow_albedo == '.true.' and not any(this == 'rgrain'); # rgrain must be given if l_snow_albedo = TRUE
        = namelist:jules_initial=total_snow == '.false.' and not any(this == 'rho_snow'); # rho_snow must be given if total_snow = FALSE
        = namelist:jules_initial=total_snow == '.false.' and not any(this == 'snow_depth'); # snow_depth must be given if total_snow = FALSE
        = namelist:jules_initial=total_snow == '.false.' and namelist:jules_vegetation=can_model == 4 and not any(this == 'snow_grnd'); # snow_grnd must be given if total_snow = FALSE and can_model = 4
        = namelist:jules_initial=total_snow == '.false.' and namelist:jules_snow=nsmax > 0 and not any(this == 'nsnow'); # nsnow must be given if total_snow = FALSE and nsmax > 0
        = namelist:jules_initial=total_snow == '.false.' and namelist:jules_snow=nsmax > 0 and not any(this == 'snow_ds'); # snow_ds must be given if total_snow = FALSE and nsmax > 0
        = namelist:jules_initial=total_snow == '.false.' and namelist:jules_snow=nsmax > 0 and not any(this == 'snow_ice'); # snow_ice must be given if total_snow = FALSE and nsmax > 0
        = namelist:jules_initial=total_snow == '.false.' and namelist:jules_snow=nsmax > 0 and not any(this == 'snow_liq'); # snow_liq must be given if total_snow = FALSE and nsmax > 0
        = namelist:jules_initial=total_snow == '.false.' and namelist:jules_snow=nsmax > 0 and not any(this == 'tsnow'); # tsnow must be given if total_snow = FALSE and nsmax > 0
        = namelist:jules_initial=total_snow == '.false.' and namelist:jules_snow=nsmax > 0 and namelist:jules_radiation=l_snow_albedo == '.true.' and not any(this == 'rgrainl'); # rgrainl must be given if total_snow = FALSE, nsmax > 0 and l_snow_albedo = TRUE
values = canht,canopy,cropcanht,cropdvi,cropharvc,croplai,cropreservec,croprootc,cs,frac,gs,lai,nsnow,rgrain,rgrainl,rho_snow,snow_depth,snow_ds,snow_grnd,snow_ice,snow_liq,snow_tile,sthuf,sthzw,t_soil,tsnow,tstar_tile,zw
length = :
sort-key = 05

[namelist:jules_initial=use_file]
compulsory = true
description = Read variable from file
url = http://jules-lsm.github.io/vn4.1/namelists/initial_conditions.nml.html#JULES_INITIAL::use_file
type = logical
length = :
fail-if = len(this) != namelist:jules_initial=nvars
sort-key = 06
trigger = namelist:jules_initial=var_name: any(this == '.true.');
        = namelist:jules_initial=const_val: not all(this == '.true.');

[namelist:jules_initial=var_name]
compulsory = true
description = Name in file (used if use_file = .true.)
url = http://jules-lsm.github.io/vn4.1/namelists/initial_conditions.nml.html#JULES_INITIAL::var_name
type = character
length = :
fail-if = len(this) != namelist:jules_initial=nvars
sort-key = 07

[namelist:jules_initial=tpl_name]
compulsory = true
description = String to substitute into the file name template (used if use_file = .true.)
url = http://jules-lsm.github.io/vn4.1/namelists/initial_conditions.nml.html#JULES_INITIAL::tpl_name
type = character
length = :
fail-if = len(this) != namelist:jules_initial=nvars
sort-key = 08

[namelist:jules_initial=const_val]
compulsory = true
description = Constant value for all points (used if use_file = .false.)
url = http://jules-lsm.github.io/vn4.1/namelists/initial_conditions.nml.html#JULES_INITIAL::const_val
type = real
length = :
fail-if = len(this) != namelist:jules_initial=nvars
sort-key = 09


#######################################################################################################
#######################################################################################################


[namelist:jules_output]
compulsory = true
ns = namelist/Output
url = http://jules-lsm.github.io/vn4.1/namelists/output.nml.html
sort-key = 12

[namelist:jules_output=output_dir]
compulsory = true
description = Directory for output files
url = http://jules-lsm.github.io/vn4.1/namelists/output.nml.html#JULES_OUTPUT::output_dir
type = character
sort-key = 01

[namelist:jules_output=run_id]
compulsory = true
description = Identifier for the run
url = http://jules-lsm.github.io/vn4.1/namelists/output.nml.html#JULES_OUTPUT::run_id
type = character
sort-key = 02

[namelist:jules_output=nprofiles]
compulsory = true
description = Number of output profiles
url = http://jules-lsm.github.io/vn4.1/namelists/output.nml.html#JULES_OUTPUT::nprofiles
type = integer
range = 0:
sort-key = 03


#######################################################################################################
#######################################################################################################


[namelist:jules_output_profile]
duplicate = true
ns = namelist/Output/Profiles
url = http://jules-lsm.github.io/vn4.1/namelists/output.nml.html#namelist-JULES_OUTPUT_PROFILE
sort-key = 12
widget[rose-config-edit] = pages.PageWithVariableTable --nvar nvars var var_name output_type

[namelist:jules_output_profile=profile_name]
compulsory = true
description = Name of the output profile
url = http://jules-lsm.github.io/vn4.1/namelists/output.nml.html#JULES_OUTPUT_PROFILE::profile_name
type = character
sort-key = 01

[namelist:jules_output_profile=file_period]
compulsory = true
description = Period of output files
url = http://jules-lsm.github.io/vn4.1/namelists/output.nml.html#JULES_OUTPUT_PROFILE::file_period
values = -2,-1,0
value-titles = Annual files,Monthly files,Single file
sort-key = 02
widget[rose-config-edit] = rose.config_editor.valuewidget.combobox.ComboBoxValueWidget

[namelist:jules_output_profile=output_spinup]
compulsory = true
description = Produce output during spinup
url = http://jules-lsm.github.io/vn4.1/namelists/output.nml.html#JULES_OUTPUT_PROFILE::output_spinup
type = logical
sort-key = 03

[namelist:jules_output_profile=output_main_run]
compulsory = true
description = Produce output during the main run
url = http://jules-lsm.github.io/vn4.1/namelists/output.nml.html#JULES_OUTPUT_PROFILE::output_main_run
type = logical
sort-key = 04

[namelist:jules_output_profile=output_start]
description = Time to start collecting data for output
url = http://jules-lsm.github.io/vn4.1/namelists/output.nml.html#JULES_OUTPUT_PROFILE::output_start
type = character
pattern=\d{4}-\d{2}-\d{2}\s{1}\d{2}:\d{2}:\d{2}
sort-key = 05

[namelist:jules_output_profile=output_end]
description = Time to stop collecting data for output
url = http://jules-lsm.github.io/vn4.1/namelists/output.nml.html#JULES_OUTPUT_PROFILE::output_end
type = character
pattern=\d{4}-\d{2}-\d{2}\s{1}\d{2}:\d{2}:\d{2}
sort-key = 06

[namelist:jules_output_profile=output_initial]
description = Output initial data
url = http://jules-lsm.github.io/vn4.1/namelists/output.nml.html#JULES_OUTPUT_PROFILE::output_initial
type = logical
sort-key = 07

[namelist:jules_output_profile=sample_period]
description = Sampling period (s)
url = http://jules-lsm.github.io/vn4.1/namelists/output.nml.html#JULES_OUTPUT_PROFILE::sample_period
type = integer
range = 1:
sort-key = 08

[namelist:jules_output_profile=output_period]
description = Output period (s)
            = -2 => Annual, -1 => Monthly, > 0 => Period in seconds
url = http://jules-lsm.github.io/vn4.1/namelists/output.nml.html#JULES_OUTPUT_PROFILE::output_period
type = integer
range = -2,-1,1:
sort-key = 09

[namelist:jules_output_profile=nvars]
compulsory = true
description = Number of variables to output
url = http://jules-lsm.github.io/vn4.1/namelists/output.nml.html#JULES_OUTPUT_PROFILE::nvars
type = integer
range = 1:
trigger = namelist:jules_output_profile=var: this > 0;
sort-key = 10

[namelist:jules_output_profile=var]
compulsory = true
description = Names of variables to output, as recognised by JULES
url = http://jules-lsm.github.io/vn4.1/namelists/output.nml.html#JULES_OUTPUT_PROFILE::var
type = character
length = :
fail-if = len(this) != namelist:jules_output_profile=nvars;
sort-key = 11

[namelist:jules_output_profile=var_name]
compulsory = true
description = Name to give variable in output files for each variable in var
url = http://jules-lsm.github.io/vn4.1/namelists/output.nml.html#JULES_OUTPUT_PROFILE::var_name
type = character
length = :
fail-if = len(this) != namelist:jules_output_profile=nvars;
sort-key = 12

[namelist:jules_output_profile=output_type]
compulsory = true
description = Type of output for each variable in var
url = http://jules-lsm.github.io/vn4.1/namelists/output.nml.html#JULES_OUTPUT_PROFILE::output_type
values = S,M,A,N,X
length = :
fail-if = len(this) != namelist:jules_output_profile=nvars;
sort-key = 13
